"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7288],{22578:(e,t,a)=>{a.d(t,{$:()=>g});var s=a(64593),r=a(96206),n=a(69691),i=a(8341),c=a(89952),o=a(67294),l=a(51615),d=a(24183);var m=a(85893);function h(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const g=({children:e,usePlayingItem:t})=>{let a=h(e);(e=>{const{mainLandmarkRef:t}=(0,d.Oh)(),a=(0,l.k6)(),s=a.location?.state?.preventMoveFocus,r=(0,o.useRef)(a.length<2);r.current=a.length<2,(0,o.useEffect)((()=>{const a=t.current;!s&&!r.current&&a&&e&&(a.setAttribute("aria-label",e),a.focus())}),[e,t,s])})(e);const{isPlaying:g}=(0,n.IK)(),u=(0,i.Y)((e=>e?.item));return u&&(g||t)&&((0,c.G_)(u)?a=[u.name,u.artists.map((e=>e.name)).join(r.ag.getSeparator())].join(" • "):(0,c.iw)(u)?a=[u.name,u.show.name].join(" • "):(0,c.k6)(u)&&(a=h(r.ag.get("ad-formats.advertisement")))),(0,m.jsx)(s.q,{defaultTitle:"Spotify",defer:!1,children:(0,m.jsx)("title",{children:a})})}},70369:(e,t,a)=>{a.d(t,{$:()=>s.$});var s=a(22578)},38258:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Le});var s=a(67294),r=a(86706),n=a(51615),i=a(96206),c=a(6581),o=a(6158),l=a(50458),d=a(32667),m=a(24935),h=a(95888),g=a(48690),u=a(3634),p=a(30005),y=a(42922),x=a(60775),f=a(98121),j=a(21366),v=a(85893);const k=s.memo((function({uri:e}){const{spec:t}=(0,x.T)(e);return(0,v.jsx)(y.ZP,{value:"concert",children:(0,v.jsxs)(p.v,{children:[(0,v.jsxs)(j.q,{children:[(0,v.jsx)(f.Jx,{spec:t,uri:e,displayText:i.ag.get("context-menu.copy-concert-link")}),(0,v.jsx)(f.W2,{spec:t,uri:e})]}),(0,v.jsx)(f.h$,{spec:t,uri:e})]})})}));var N=a(70369),b=a(60289),_=a(59482),C=a(72907),D=a(67892),I=a(19480),w=a(5266),S=a(81860),U=a(25678);const P="rgHpYneRuCLsOyfmI2jF",L="lr40ubW1eB4EezYzf313",$="XQIbZRhBVDxK2jEcGfeS",T="RJhxchVqiOAPQKl6EUU7",E="sOKlgL5TzQ2p74aQFjRh",Z="u3QEyws6_AhQuuMCDgMC",F="WKrdOaRnI9VfK1UYUqvT",A="VHRiF8JERizZ2hUJFuvv",M="wV775Pr50OGgK_FdTufn",R="A0tCEFULNmQTQVO3ICMV",H="kCaMmmmuRwJ0XVnPRIv4",K="kUcrmLBN4InQRGIOEpRz",O="d6o_X8ptm5nNBf04i9Hq",Q="PMPCg0VMJpsEvziDZZnv",Y="XXABme7Q0el8rITiSDHg",z="Cc4TFd0C5345deatsGJ0",B="IgugoubNHrWe50NJKajx",J="TfyNLJsVXqn4J_NaO810",q="LTQi_kS76q2WPTT5IPNr",V=e=>{const{ticketLink:t,handleConcertLinkClick:a}=e;let s=t.imageURL;if(""===t.imageURL)switch(t.partnerDisplayName){case"AXS":s="https://tickets.spotifycdn.com/partner-assets/axs.svg";break;case"Dice":s="https://tickets.spotifycdn.com/partner-assets/dice.svg";break;case"Eventbrite":s="https://tickets.spotifycdn.com/partner-assets/eventbrite.svg";break;case"Eventim":s="https://tickets.spotifycdn.com/partner-assets/eventim.svg";break;case"Jambase":s="https://tickets.spotifycdn.com/partner-assets/jambase.svg";break;case"Resident Advisor":s="https://tickets.spotifycdn.com/partner-assets/residentadvisor.svg";break;case"See Tickets":s="https://tickets.spotifycdn.com/partner-assets/seetickets.svg";break;case"Songkick":s="https://tickets.spotifycdn.com/partner-assets/songkick.svg";break;case"Spotify":s="https://tickets.spotifycdn.com/partner-assets/spotify.svg";break;case"Ticketmaster":s="https://tickets.spotifycdn.com/partner-assets/ticketmaster.svg";break;default:s=""}return(0,v.jsxs)(D.Z,{draggable:!1,className:M,to:t.url,target:"_blank",onClick:a,children:[(0,v.jsx)("div",{className:R,children:(0,v.jsx)(U.Ee,{loading:"eager",srcSet:s,src:s,height:"100%",width:"100%",children:(0,v.jsx)(w.i,{className:H,iconSize:24})})}),(0,v.jsxs)("div",{className:O,children:[(0,v.jsx)(d.D.span,{children:t.partnerDisplayName}),(0,v.jsx)(S.h,{className:K,iconSize:24})]})]})};var X=a(26492),G=a(37081),W=a(20246),ee=a(26375),te=a(34722),ae=a(9339),se=a(42095),re=a(40169);const ne="e0VN3GmM25lCYyAIWjim",ie="uPLqiz_BFUytfHNLP5zN",ce="LJ8tzLtEEECRuUQv87nE",oe="tR6GHIdHN3D9ZRuLo1gd",le="T_IWs9HLesaBWiylLaox",de="KPIfiziXg8ByZ0elFPx9",me=s.memo((function(e){const{entity:t,headliner:a,onClick:s}=e,{imageUri:r,name:n,uri:c}=t;return(0,v.jsxs)(D.r,{to:c,className:ne,onClick:s,children:[r?(0,v.jsx)(re.Z,{children:(0,v.jsx)("div",{"data-testid":"image-container",className:de,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${r})`}})}):null,(0,v.jsxs)("div",{className:ie,children:[a&&(0,v.jsx)("div",{className:oe,children:(0,v.jsx)(d.D,{as:"h4",variant:"minuet",className:le,weight:"bold",children:i.ag.get("concert.label.headliner")})}),(0,v.jsx)(d.D,{as:"h2",variant:"alto",className:ce,children:n})]})]})}));var he=a(31667),ge=a(47778),ue=a(43315),pe=a(74568);const ye=s.memo((function(e){const{entity:t,isVirtual:a,shouldCombineRecs:s,onClick:r}=e,{venue:{name:n,location:{name:i}}}=t,c=t.artists[0],o=(0,ae.ij)(t),l=(0,se.CH)(t.date.isoString),m=a?he.F:ge.n;return(0,v.jsxs)(D.r,{to:`/concert/${t.id}`,className:pe.Z.ConcertCard,onClick:r,children:[c.imageUri?(0,v.jsx)(re.Z,{children:(0,v.jsx)("div",{"data-testid":"image-container",className:pe.Z.image,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${c.imageUri})`}})}):null,(0,v.jsx)("time",{className:pe.Z.date,dateTime:t.date.isoString,children:(0,v.jsx)(d.D,{as:"h5",variant:"minuetBold",className:pe.Z.dateMonth,children:(0,se.jx)(l)})}),(0,v.jsxs)("div",{className:pe.Z.metadata,dir:"auto",children:[(0,v.jsxs)(d.D,{as:"h2",className:pe.Z.fullDate,variant:"minuetBold",children:[(0,ue.FO)(l)," • ",(0,se.hK)(l)]}),(0,v.jsx)(d.D,{as:"h2",variant:"cello",weight:"bold",className:pe.Z.title,children:o}),(0,v.jsxs)("div",{className:pe.Z.locationData,children:[s?(0,v.jsx)(m,{className:pe.Z.icon,"aria-label":a?"Virtual Event":"In-Person Event",iconSize:16}):null,(0,v.jsx)(d.D,{as:"h2",className:pe.Z.location,variant:"mesto","data-testid":"location-name",children:a?n:`${n}, ${i}`})]})]})]})})),xe="aX5g9MgOPCph10dhugIm",fe="qJIbuz2sOfyiYjXqKwHX",je="HKMt7en7H2xbp3cXFP3k",ve=(0,s.memo)((e=>(0,v.jsxs)(D.r,{to:"spotify:concerts",className:xe,onClick:e.onClick,children:[(0,v.jsx)(re.Z,{children:(0,v.jsx)("div",{className:je,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})}),(0,v.jsx)("div",{className:fe,children:(0,v.jsx)(d.D,{as:"h2",variant:"canon",children:i.ag.get("concerts_browse_more")})})]})));var ke=a(15852);const Ne=(e,t)=>({artists:[{uri:t,name:e.artistName}],images:[{url:e.imageUri,height:100,width:100}],name:e.name,uri:e.uri,sharingInfo:null,type:ee.albumType.ALBUM}),be=(0,s.memo)((({concert:e})=>(0,v.jsx)("div",{className:P,children:(0,v.jsx)(d.D,{as:"h3",variant:"canon",className:L,children:(0,se.jx)((0,se.CH)(e.date))})}))),_e=e=>0===e.length?null:1===e.length?i.ag.get("concert.header.tickets_from_1",e[0].partnerDisplayName):2===e.length?i.ag.get("concert.header.tickets_from_2",e[0].partnerDisplayName,e[1].partnerDisplayName):3===e.length?i.ag.get("concert.header.tickets_from_3",e[0].partnerDisplayName,e[1].partnerDisplayName,e[2].partnerDisplayName):i.ag.get("concert.header.tickets_from_4",e[0].partnerDisplayName,e[1].partnerDisplayName,e[2].partnerDisplayName,e.length-3),Ce=(0,s.memo)((e=>{const{concert:t,onClick:a}=e,{category:s,venue:r,location:n,lat:i,lon:c}=t;if("ONLINE"===s)return(0,v.jsx)(d.D,{as:"h3",variant:"canon",children:r});const o=new URL("https://maps.google.com/");return o.searchParams.set("q",`${r},${n}`),o.searchParams.set("ll",`${i},${c}`),(0,v.jsx)(D.Z,{to:o.href,target:"_blank",onClick:()=>a(o.href),children:(0,v.jsxs)(d.D,{as:"h3",variant:"canon",children:[r,", ",n]})})})),De=(0,s.memo)((e=>{const{concert:t,ticketAvailabilityTranslated:a,entitySpec:r}=e,n=(0,s.useMemo)((()=>r.ticketProviderListFactory()),[r]),c=(0,ke.$P)(),o=(0,ke.Wi)(n),l=(0,se.CH)(t.date),m=`spotify:concert:${t.id}`,h=(0,X.o)(),u=t.ticketers??t.clickThrus??[];if(0===u.length)return null;if((0,ae.O1)(l))return(0,v.jsxs)("div",{className:F,children:[(0,v.jsx)(d.D,{as:"h3",variant:"canon",children:i.ag.get("concert_event_ended")}),(0,v.jsx)(d.D,{variant:"ballad",children:(0,v.jsx)(D.Z,{to:"spotify:concerts",children:i.ag.get("concert_past_message")})})]});return(0,v.jsxs)("div",{className:F,ref:o,children:[(0,v.jsx)(d.D,{as:"h3",variant:"canon",children:(0,v.jsx)(Ce,{concert:t,onClick:e=>{const t=r.venueMapLinkFactory().hitNavigateToExternalUri({destination:e});c.logInteraction(t)}})}),(0,v.jsxs)(d.D,{as:"h3",variant:"mesto",className:J,children:[(0,se.xE)(l)," • ",(0,se.hK)(l)]}),(0,v.jsx)(d.D,{as:"h3",className:Z,variant:"mesto",children:_e(u)}),a&&(0,v.jsx)(d.D,{as:"h3",className:Z,variant:"mesto",children:a}),(0,v.jsx)(W.y,{menu:(0,v.jsx)(k,{uri:m}),onShow:()=>{const e=r.contextMenuButtonFactory().hitUiReveal();c.logInteraction(e)},children:(0,v.jsx)(g.z,{size:32,className:Q})}),(0,v.jsx)(d.D.h3,{variant:"canon",children:i.ag.get("concert.header.available_tickets_from")}),(0,v.jsx)("div",{className:A,children:u.map(((e,t)=>(0,v.jsx)(V,{ticketLink:e,handleConcertLinkClick:()=>{const a=n.ticketProviderCellFactory({identifier:e.partnerDisplayName,position:t}).hitNavigateToExternalUri({destination:e.url});c.logInteraction(a),h({targetUri:m,intent:"find-concert",type:"click"})}},e.partnerDisplayName)))})]})})),Ie=(0,s.memo)((e=>{const{artist:t,albums:a,position:r,lineupArtistsSpec:n}=e,c=(0,s.useMemo)((()=>n.artistRowFactory({position:r,uri:t.uri})),[n,r,t.uri]),o=(0,ke.$P)(),l=0===r,d=`${(0,te.GJ)(t.id)}:discography`;return(0,v.jsx)(y.ZP,{value:"headered-grid",index:r,children:(0,v.jsx)(ke.Nh,{spec:c||null,children:(0,v.jsx)(I.P,{title:l?i.ag.get("concert_lineup"):"",total:a.length+2,seeAllUri:d,seeAllLabel:i.ag.get("artist-page.show-discography"),onClickShelfSeeAll:()=>{const e=c.seeDiscographyLinkFactory().hitUiNavigate({destination:d});o.logInteraction(e)},children:[null,(0,v.jsx)(me,{entity:t,headliner:l,onClick:()=>{const e=c.artistCardFactory().hitUiNavigate({destination:t.uri});o.logInteraction(e)}},`ConcertArtistCard-${t.id}`),...a.map(((e,a)=>(0,v.jsx)(u.r,{index:a,...Ne(e,t.uri)},e.uri)))]})})},t.uri)})),we=(0,s.memo)((e=>{const{albums:t,artists:a,entitySpec:r}=e,n=(0,s.useMemo)((()=>r.lineupArtistsFactory()),[r]),i=(0,ke.Wi)(n),c=(0,s.useMemo)((()=>{const e={};return t.forEach((t=>{const a=t.artistName;e[a]?e[a].push(t):e[a]=[t]})),e}),[t]);return(0,v.jsx)("div",{className:Y,ref:i,children:a.map(((e,t)=>(0,v.jsx)(Ie,{artist:e,albums:c[e.name]||[],position:t,lineupArtistsSpec:n},e.uri)))})})),Se=(0,s.memo)((e=>{const t=(0,s.useMemo)((()=>e.entitySpec.recommendedConcertsFactory()),[e.entitySpec]),a=(0,ke.$P)(),r=(0,ke.Wi)(t),n=e.upcomingConcerts;if(!n||n.length<1)return null;const c=n.map(((e,s)=>(0,v.jsx)(ye,{entity:e,onClick:()=>{const r=t.concertCardFactory({position:s,uri:e.uri}).hitUiNavigate({destination:e.uri});a.logInteraction(r)}},e.id)));return(0,v.jsx)("div",{className:B,ref:r,children:(0,v.jsx)(y.ZP,{value:"headered-grid",children:(0,v.jsxs)(I.P,{title:i.ag.get("concerts_more_events"),total:n.length+1,className:q,showSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:i.ag.get("view.see-all"),children:[(0,v.jsx)(ve,{onClick:()=>{const e=t.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});a.logInteraction(e)}}),c]})})})})),Ue=e=>{const{concert:t,upcomingConcerts:a,artists:s,albums:r,color:n,headerImageUri:i,ticketAvailabilityTranslated:c}=e.concert,o=[{url:i,width:100,height:100}],{spec:l}=(0,ke.fU)(m.createDesktopConcertEntityEventFactory,{data:{identifier:t.id,uri:`spotify:concert:${t.id}`}});return(0,G.Y)(n),(0,v.jsxs)("section",{className:T,children:[(0,v.jsx)(N.$,{children:(0,ae.Yl)(t)}),(0,v.jsxs)(b.gF,{backgroundImages:o,backgroundColor:n,children:[(0,v.jsxs)(b.sP,{children:[(0,v.jsx)(b.T0,{children:(0,v.jsx)(be,{concert:t})}),(0,v.jsx)(b.xd,{children:(0,ae.Yl)(t)})]}),(0,v.jsx)(_.W,{children:(0,v.jsx)("div",{className:z,children:(0,v.jsx)(C.i,{text:(0,ae.Yl)(t)})})})]}),(0,v.jsxs)("div",{className:$,children:[(0,v.jsx)(h.I,{backgroundColor:n}),(0,v.jsxs)("div",{className:E,children:[(0,v.jsx)(De,{concert:t,ticketAvailabilityTranslated:c,entitySpec:l}),(0,v.jsx)(we,{artists:s,albums:r,entitySpec:l}),(0,v.jsx)(Se,{upcomingConcerts:a,entitySpec:l})]})]})]})},Pe=(0,s.memo)(Ue),Le=s.memo((function(){const{concertId:e}=(0,n.UO)(),t=(0,r.I0)(),a=`spotify:concert:${e}`,d=(0,r.v9)((e=>(0,l.y)(a,e)));return(0,s.useEffect)((()=>{t((0,c.l$)(e))}),[t,e]),d?(0,v.jsx)(s.Suspense,{fallback:null,children:(0,v.jsx)(Pe,{concert:d})}):(0,v.jsx)(o.h,{hasError:!1,errorMessage:i.ag.get("concert.error.concert_not_found_title")})}))},9339:(e,t,a)=>{a.d(t,{O1:()=>r,Yl:()=>c,ij:()=>o});var s=a(96206);const r=e=>e<new Date,n={row:{1:e=>s.ag.get("concert.header.entity_title_1",...e),2:e=>s.ag.get("concert.header.entity_title_2",...e),3:e=>s.ag.get("concert.header.entity_title_3",...e),4:e=>s.ag.get("concert.header.entity_title_4",...e),more:e=>s.ag.get("concert.header.entity_title_more",...e)},entity:{1:e=>s.ag.get("concert.header.upcoming_concert_title_1",...e),2:e=>s.ag.get("concert.header.upcoming_concert_title_2",...e),3:e=>s.ag.get("concert.header.upcoming_concert_title_3",...e),4:e=>s.ag.get("concert.header.upcoming_concert_title_4",...e),more:e=>s.ag.get("concert.header.upcoming_concert_title_more",...e)}},i=(e,t)=>{const a=n[t],s=(e=>{try{return!e.title||!e.festival&&e.artists?.length?{artists:e.artists.map((e=>e.name||e.profile.name))}:{title:e.title}}catch(e){return null}})(e);if(s){if(s.title)return s.title;if(s.artists)return s.artists.length>4?a.more(s.artists):a[s.artists.length](s.artists)}return""},c=e=>i(e,"row"),o=e=>i(e,"entity")},42095:(e,t,a)=>{a.d(t,{Bc:()=>h,CH:()=>r,FO:()=>o,dC:()=>d,hK:()=>m,jw:()=>i,jx:()=>l,wf:()=>c,xE:()=>n});var s=a(96206);const r=e=>24===e.length?new Date(e.substring(0,19)):22===e.length?new Date(e.substring(0,16)):new Date(e),n=e=>s.ag.formatDate(e,{weekday:"short",month:"short",day:"numeric"}),i=e=>s.ag.formatDate(e,{month:"short"}),c=e=>s.ag.formatDate(e,{day:"numeric"}),o=e=>s.ag.formatDate(e,{weekday:"short"}),l=e=>s.ag.formatDate(e,{month:"short",day:"numeric"}),d=e=>s.ag.formatDate(e,{weekday:"short",hour:"numeric",minute:"numeric"}),m=e=>s.ag.formatDate(e,{hour:"numeric",minute:"numeric"}),h=(e,t)=>{if(e.toDateString()===t.toDateString())return n(e);if(e.getMonth()===t.getMonth()){return`${s.ag.formatDate(e,{day:"numeric",month:"short"})}–${s.ag.formatDate(t,{day:"numeric"})}`}return`${s.ag.formatDate(e,{day:"numeric",month:"short"})}–${s.ag.formatDate(t,{day:"numeric",month:"short"})}`}},50458:(e,t,a)=>{function s(e,t){return t.concerts.all[e]||null}a.d(t,{y:()=>s})},34722:(e,t,a)=>{a.d(t,{B$:()=>i,GJ:()=>r,Hr:()=>s,qo:()=>n});const s=e=>e?e.reduce(((e,t)=>(e.push(t.releases.items[0]),e)),[]):[],r=e=>`spotify:app:artist:${e}`,n=e=>`spotify:artist:${e}`,i=(e,t,a)=>({artists:[{uri:t,name:a}],images:e.coverArt?.sources||[],name:e.name,uri:e.uri,year:e.date?.year,type:e.type,sharingInfo:e.sharingInfo})},74568:(e,t,a)=>{a.d(t,{Z:()=>s});const s={ConcertCard:"wedRUk4eiBo9n9vqXLhU",date:"HYVIJaYYiCTgSCHie70L",dateMonth:"InXSbaoh8emJn09fWs3U",metadata:"SPbe_Q1wtiZQCmo0QKUy",title:"TRp4tgG7_cymGIXDevIP",locationData:"tC1Y_nwyyly7cpIGqF5K",icon:"gY_xUHOSpAn6TPdU23t7",location:"l93AfoV_qHnMQSQBB5GK",fullDate:"MTTf1Lotynwu3QKhr9uY",image:"EkGb0ZzhswreSvpZoioY"}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map