"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2219,8419],{43914:(e,i,n)=>{n.d(i,{D:()=>c});var a=n(67294),t=n(96206),s=n(65830),l=n(88503),r=n(26492),d=n(53678),o=n(85893);const c=({id:e,children:i,targetURI:n,fadeOut:c=!1})=>{const m=(0,a.useCallback)((()=>{window.open((0,l.cd)(n).href)}),[n]),u={getTitle:()=>t.ag.get("action-trigger.available-in-app-only"),getDescription:()=>t.ag.get("action-trigger.listen-mixed-media-episode"),primaryButtonText:()=>t.ag.get("action-trigger.button.get-app"),secondaryButtonText:()=>t.ag.get("action-trigger.button.not-now"),isCTA:!0,intentPrimaryButton:"download-app",onLogInteraction:(0,r.o)(),shouldHideOnScroll:!0,fadeOut:c};return(0,o.jsx)(s.P,{className:d.Z.container,id:e,onPrimaryButtonClick:m,options:u,children:i})}},71836:(e,i,n)=>{n.d(i,{q:()=>j});var a=n(69518),t=n.n(a),s=n(63495),l=n(36590),r=n(8498),d=n(21610),o=n(16257),c=n(85893);const m=({name:e="",uri:i="",images:n=[],isHero:a,onClick:t,testId:s,index:m})=>a?(0,c.jsx)(d.Z,{featureIdentifier:"unknown",index:m,onClick:t,headerText:e,uri:i,isPlayable:!1,renderCardImage:()=>(0,c.jsx)(r.x,{isHero:a,images:n}),renderSubHeaderContent:()=>(0,c.jsx)(o.k,{}),testId:s}):(0,c.jsx)(l.C,{index:m,featureIdentifier:"unknown",onClick:t,headerText:e,uri:i,isPlayable:!1,renderCardImage:()=>(0,c.jsx)(r.x,{isHero:a,images:n}),renderSubHeaderContent:()=>(0,c.jsx)("span",{}),testId:s});var u=n(74895),k=n(143),p=n(64269),v=n(3634),N=n(89477);const S=({name:e,uri:i,href:n,images:a,isHero:t,testId:s,description:d,index:o,requestId:m,color:u})=>(0,c.jsx)(l.C,{index:o,featureIdentifier:"artist_concerts",onClick:()=>{window.location.href=n},headerText:e,uri:i,isPlayable:!1,renderCardImage:()=>(0,c.jsx)(r.x,{isHero:t,images:a,color:u}),renderSubHeaderContent:()=>(0,c.jsx)("span",{children:d||""}),testId:s,requestId:m,delegateNavigation:!0});var g=n(61864),h=n(8890),y=n(46309),f=n(30523),x=n(52778),F=n(95332),b=n(97891);const j=({entity:e,index:i,testId:n,isHero:a=!1})=>{const l=(t().from(e.uri)||{}).type,r={testId:n,isHero:a,index:i,sharingInfo:e.sharingInfo};if(("string"==typeof e.uri||e.uri instanceof String)&&e.uri.startsWith("spotify:merch:"))return(0,c.jsx)(h.T,{...r,name:e.name,uri:e.uri,href:e.href,images:e.images,description:e.description});if(("string"==typeof e.uri||e.uri instanceof String)&&e.uri.startsWith("spotify:artist:")&&e.uri.endsWith(":concerts"))return(0,c.jsx)(S,{...r,name:e.name,uri:e.uri,href:e.href,images:e.images,description:e.description});switch(l){case t().Type.ALBUM:case t().Type.COLLECTION_ALBUM:{const i=e;return(0,c.jsx)(v.r,{...r,name:i.name,uri:i.uri,images:i.images,artists:i.artists})}case t().Type.ARTIST:{const i=e;return(0,c.jsx)(N.I,{...r,name:i.name,uri:i.uri,images:i.images})}case t().Type.EPISODE:{const i=e;return(0,c.jsx)(g.B,{...r,name:i.name,uri:i.uri,images:i.images,showImages:i.show?.images||[],durationMilliseconds:i.duration_ms,releaseDate:i.release_date,resume_point:i.resume_point,description:i.description,isExplicit:i.explicit,is19PlusOnly:!!i.tags?.includes("MOGEF-19+")})}case t().Type.PLAYLIST:case t().Type.PLAYLIST_V2:{const i=e,n=i.owner?.display_name||e.owner?.displayName||"";return(0,c.jsx)(y.Z,{...r,name:i.name,uri:i.uri,images:i.images,description:i.description,authorName:n})}case t().Type.USER:return(0,c.jsx)(f.P,{...r,name:e.name,uri:e.uri,images:e.images});case t().Type.SHOW:{const i=e;return(0,c.jsx)(F._,{...r,name:i.name,uri:i.uri,images:i.images,publisher:i.publisher,mediaType:{audio:k.E.AUDIO,video:k.E.VIDEO,mixed:k.E.MIXED}[i.media_type]??k.E.AUDIO})}case t().Type.APPLICATION:return(0,c.jsx)(s.s,{...r,name:e.name,uri:e.uri,images:e.images,description:e.description});case t().Type.RADIO:return(0,c.jsx)(x.I,{testId:n,index:i,name:e.name,uri:e.uri,images:e.images});case t().Type.TRACK:{const i=e;return(0,c.jsx)(b.G,{...r,name:i.name,uri:i.uri,images:i.album?.images||[],artists:i.artists,album:i.album,isExplicit:i.explicit,is19PlusOnly:i.tags?.includes("MOGEF-19+")})}case t().Type.COLLECTION:return e.uri.endsWith("your-episodes")?(0,c.jsx)(p.T,{index:i}):(0,c.jsx)(u.p,{index:i});default:return console.warn("Rendering a generic Card for unknown type:",l),(0,c.jsx)(m,{...r,name:e.name,uri:e.uri,images:e.images})}}},63495:(e,i,n)=>{n.d(i,{s:()=>o});var a=n(96206),t=n(36590),s=n(8498),l=n(21610),r=n(16257),d=n(85893);const o=({name:e,uri:i,images:n,isHero:o,onClick:c,testId:m,description:u,index:k,requestId:p,color:v})=>o?(0,d.jsx)(l.Z,{featureIdentifier:"genre",index:k,onClick:c,headerText:e,uri:i,isPlayable:!1,renderCardImage:()=>(0,d.jsx)(s.x,{isHero:o,images:n,color:v}),renderSubHeaderContent:()=>(0,d.jsx)(r.k,{children:u||a.ag.get("card.tag.genre")}),testId:m,requestId:p}):(0,d.jsx)(t.C,{index:k,featureIdentifier:"genre",onClick:c,headerText:e,uri:i,isPlayable:!1,renderCardImage:()=>(0,d.jsx)(s.x,{isHero:o,images:n,color:v}),renderSubHeaderContent:()=>(0,d.jsx)("span",{children:u||""}),testId:m,requestId:p})},8890:(e,i,n)=>{n.d(i,{T:()=>l});var a=n(36590),t=n(8498),s=n(85893);const l=({name:e,uri:i,href:n,images:l,isHero:r,testId:d,description:o,index:c,requestId:m,color:u})=>(0,s.jsx)(a.C,{index:c,featureIdentifier:"merch",onClick:()=>{window.location.href=n},headerText:e,uri:i,isPlayable:!1,renderCardImage:()=>(0,s.jsx)(t.x,{isHero:r,images:l,color:u}),renderSubHeaderContent:()=>(0,s.jsx)("span",{children:o||""}),testId:d,requestId:m,delegateNavigation:!0})},55426:(e,i,n)=>{n.d(i,{l:()=>F});var a=n(67294),t=n(94184),s=n.n(t),l=n(86706),r=n(98197),d=n(86604),o=n(12324),c=n(69559);const m="search-searchCategory-contentArea",u="search-searchCategory-catergoryGrid",k="MUloQuW1xQawwVs0mDp4",p="OlnSvEViCZ_vVdnc3mSQ",v="FjMPyh7lOujDVYQRvp0H",N="search-searchCategory-carousel",S="search-searchCategory-carouselButton",g="search-searchCategory-carouselButtonVisible";var h,y=n(85893);function f(e,i){(0,o.Bu)(e,i),i.scrollIntoView({block:"end",inline:"center"})}function x(e,i){const n=e.querySelector('[tabindex="0"]')||e.firstElementChild;i===h.RIGHT&&n.nextElementSibling?f(n,n.nextElementSibling):i===h.LEFT&&n.previousElementSibling&&f(n,n.previousElementSibling)}!function(e){e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT"}(h||(h={}));const F=e=>{const{children:i,className:n,showButtons:t=!0,ariaLabel:o}=e,f=(0,a.useRef)(null),F=(0,a.useRef)(null),[b,j]=(0,a.useState)(!1),[C,I]=(0,a.useState)(!1),T=(0,a.useCallback)((()=>{if(!F.current||!f.current)return;const e=F.current,i=f.current,n=e.scrollWidth-e.clientWidth,a=Math.ceil(Math.abs(e.scrollLeft)),t=e.scrollWidth>i.clientWidth;I(t&&0!==a),j(t&&a<n)}),[]);(0,c.a)((()=>{T()}));const D=a.Children.toArray(i).length;(0,a.useEffect)(T,[D,T]);const A=(0,a.useCallback)((e=>{const i=e*(f.current.clientWidth/2);F.current.scrollBy({left:i}),T()}),[T]),E=(0,l.v9)((e=>e.ui?.textDirection?.isRTL)),R=(0,a.useCallback)((e=>{"ArrowLeft"===e.key?(e.preventDefault(),x(F.current,E?h.RIGHT:h.LEFT)):"ArrowRight"===e.key&&(e.preventDefault(),x(F.current,E?h.LEFT:h.RIGHT))}),[E]),w=E?b:C,V=E?C:b;return(0,y.jsxs)("div",{ref:f,className:s()(m,n),children:[(0,y.jsx)("div",{ref:F,className:s()(u,{[p]:V&&!w,[k]:w&&!V,[v]:w&&V}),onScroll:T,onKeyDown:R,role:"list","aria-label":o,tabIndex:0,children:i}),t&&(0,y.jsxs)("div",{className:N,dir:"ltr",children:[(0,y.jsx)("button",{className:s()(S,{[g]:w}),tabIndex:-1,onClick:()=>A(h.LEFT),children:(0,y.jsx)(r.e,{semanticColor:"textBase"})}),(0,y.jsx)("button",{className:s()(S,{[g]:V}),tabIndex:-1,onClick:()=>A(h.RIGHT),children:(0,y.jsx)(d.V,{semanticColor:"textBase"})})]})]})}},60566:(e,i,n)=>{n.d(i,{o:()=>m});var a=n(67294),t=n(96206),s=n(30005),l=n(42922),r=n(60775),d=n(98121),o=n(21366),c=n(85893);const m=a.memo((function({uri:e}){const{spec:i}=(0,r.T)(e);return(0,c.jsx)(l.ZP,{value:"generic",children:(0,c.jsx)(s.v,{children:(0,c.jsxs)(o.q,{divider:"before",children:[(0,c.jsx)(d.Jx,{spec:i,uri:e,displayText:t.ag.get("context-menu.copy-generic-link")}),(0,c.jsx)(d.W2,{spec:i,uri:e})]})})})}))},87379:(e,i,n)=>{n.d(i,{i:()=>v});var a=n(94184),t=n.n(a),s=n(18864);const l="kwJGggri7IZMFvQEClUf",r="yt0QcQy0t7LfbeVaEJG_",d="WHMDRepGVQXXrTx3838g",o="wLoqasagmgNF8ULGMhil",c="cpC_03FZN3i93V8j3g0l",m="S7CXd4i9huhWL_kPV_e3",u="c85eTWJAYaGjCiwH1WDu",k="cTTgGuDbNSWllHjVqiUx";var p=n(85893);const v=({className:e,leading:i,media:n,pretitle:a,title:v,subtitle:N,body:S,footer:g,trailing:h,onContextMenu:y,onTouchStart:f,onTouchEnd:x,onDragStart:F})=>{const b=(0,s.jh)();return(0,p.jsxs)("div",{className:t()(e,l),onContextMenu:y,onTouchStart:f,onTouchEnd:x,draggable:!0,onDragStart:F,children:[i?(0,p.jsx)("div",{className:r,children:i}):null,n?(0,p.jsx)("div",{className:d,children:n}):null,(0,p.jsxs)("div",{className:o,children:[a?(0,p.jsx)("div",{children:a}):null,v?(0,p.jsx)("div",{className:u,children:v}):null,N?(0,p.jsx)("div",{className:k,children:N}):null,S?(0,p.jsx)("div",{children:S}):null,g?(0,p.jsx)("div",{children:g}):null]}),h?(0,p.jsx)("div",{className:t()(c,{[m]:b===s.Uo.MEDIUM}),children:h}):null]})}},68513:(e,i,n)=>{n.d(i,{S:()=>m});var a=n(94184),t=n.n(a),s=n(31397),l=n(32667);const r="CmR9tHJ5ta6oWJlKBm3k",d="artist-artistVerifiedBadge-badge",o="bn2UNQDs5GLY5rjp5Ljh";var c=n(85893);const m=({text:e,iconSize:i=24,className:n})=>(0,c.jsxs)("span",{className:t()(r,n),children:[(0,c.jsx)("div",{className:`${d} ${o}`}),(0,c.jsx)(s.T,{semanticColor:"textAnnouncement",className:d,iconSize:i}),e?(0,c.jsx)(l.D,{variant:"mesto",children:e}):null]})},18419:(e,i,n)=>{n.r(i),n.d(i,{SeeAll:()=>m,default:()=>u});var a=n(67294),t=n(94184),s=n.n(t),l=n(32667),r=n(96206),d=n(67892);const o="a7lvtXATo3HALtrsOHtO";var c=n(85893);const m=(0,a.memo)((function(e){const{link:i,pageId:n,className:a,label:t,state:m,pathname:u,onClick:k}=e;return(0,c.jsx)(d.Z,{to:i,className:s()(o,a),pageId:n,state:m,pathname:u,"data-testid":e["data-testid"],onClick:k,children:(0,c.jsx)(l.D,{variant:"minuetBold",children:t||r.ag.get("search.see-all")})})})),u=m},50644:(e,i,n)=>{n.d(i,{v:()=>k,J:()=>u});var a=n(94184),t=n.n(a),s=n(67294),l=n(32667),r=n(67892);const d="nLNTsyonBwoRIzAv1AME",o="E4I5I7G2CfW32hLWZaqE";var c=n(85893);const m=({title:e,uri:i,className:n,onClick:a,position:d})=>{const m=(0,s.useCallback)((e=>{a?.(e,{uri:i,position:d})}),[a,d,i]);return(0,c.jsx)(r.r,{"aria-label":e,className:t()(o,n),to:i,onClick:m,children:(0,c.jsx)(l.D,{dir:"auto",variant:"mestoBold",children:e})})};function u(e){return!!e.uri&&!!e.title}const k=({topics:e,className:i,onClick:n})=>(0,c.jsx)("div",{className:t()(d,i),children:e.filter(u).map(((e,i)=>(0,c.jsx)(m,{title:e.title,uri:e.uri,position:i,onClick:n},e.uri)))})},56161:(e,i,n)=>{n.r(i),n.d(i,{default:()=>_t});var a=n(67294),t=n(35150),s=n(51615),l=n(62808),r=n.n(l),d=n(87577),o=n(73305),c=n(96206),m=n(23701),u=n(58333),k=n(58679),p=n(58548),v=n(36790),N=n(15852),S=n(49207),g=n(18686),h=n(39714),y=n(3634),f=n(89477),x=n(51216),F=n(71836),b=n(61864),j=n(63495),C=n(46309),I=n(30523),T=n(95332),D=n(97891),A=n(42781),E=n(85893);const R=({entity:e,index:i,testId:n,onClick:a,isHero:t=!1})=>{switch(e.type){case A.p.ALBUM:return(0,E.jsx)(y.r,{testId:n,onClick:a,isHero:t,index:i,name:e.name,uri:e.uri,images:e.images,artists:e.artists,year:e.year,sharingInfo:null,requestId:e.requestId,color:e.color},e.uri);case A.p.ARTIST:return(0,E.jsx)(f.I,{testId:n,onClick:a,isHero:t,index:i,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId,color:e.color},e.uri);case A.p.AUDIOBOOK:return(0,E.jsx)(x.c,{testId:n,onClick:a,isHero:t,index:i,name:e.name,uri:e.uri,images:e.images,authorName:e.authorName,requestId:e.requestId,color:e.color},e.uri);case A.p.EPISODE:return(0,E.jsx)(b.B,{testId:n,onClick:a,isHero:t,index:i,name:e.name,uri:e.uri,images:e.images,showImages:e.show.images,durationMilliseconds:e.duration.milliseconds,releaseDate:e.release.date,resume_point:null,description:e.description,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId,color:e.color},e.uri);case A.p.GENRE:return(0,E.jsx)(j.s,{testId:n,onClick:a,isHero:t,index:i,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId,color:e.color},e.uri);case A.p.PLAYLIST:return(0,E.jsx)(C.Z,{testId:n,onClick:a,isHero:t,index:i,name:e.name,uri:e.uri,images:e.images,description:"",authorName:e.owner.displayName,requestId:e.requestId,color:e.color},e.uri);case A.p.USER:return(0,E.jsx)(I.P,{testId:n,onClick:a,isHero:t,index:i,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId,color:e.color},e.uri);case A.p.SHOW:return(0,E.jsx)(T._,{testId:n,onClick:a,isHero:t,index:i,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null,requestId:e.requestId,color:e.color},e.uri);case A.p.TRACK:return(0,E.jsx)(D.G,{testId:n,onClick:a,isHero:t,index:i,name:e.name,uri:e.uri,images:e.album?.images||[],artists:e.artists,album:e.album,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,color:e.color},e.uri);default:return console.warn('Rendering SearchEntityCard using the old method <DeprecatedEntityCardByUriType /> as the entity doesn\'t contain the new "type" EntityType enum.'),(0,E.jsx)(F.q,{testId:n,onClick:a,isHero:t,index:i,entity:e})}},w="x-searchHistoryEntries-searchHistoryEntry",V="x-searchHistoryEntries-clearSingleSearchHistory",P="x-searchHistoryEntries-clearSingleSearchHistoryButton",U=({entity:e,index:i,clearSearchHistory:n})=>(0,E.jsxs)("div",{className:w,children:[(0,E.jsx)(R,{entity:{...e,requestId:void 0},index:i}),(0,E.jsx)("div",{className:V,children:(0,E.jsx)("button",{className:P,onClick:()=>n(e.uri),"aria-label":c.ag.get("remove"),children:(0,E.jsx)(h.k,{iconSize:16})})})]},e.uri);var q=n(42922),O=n(16375);const _=()=>{const{searchHistory:e,clearSearchHistory:i}=(0,O.u)();return 0===e.length?null:(0,E.jsx)(g.q,{index:0,id:"recent-searches",total:e.length,seeAllUri:"spotify:app:recent-searches",title:c.ag.get("search.title.recent-searches"),children:e.map(((e,n)=>(0,E.jsx)(q.ZP,{index:n,value:"search-history",children:(0,E.jsx)(U,{entity:e,index:n,clearSearchHistory:i})},e.uri)))})},L="search-searchBrowse-SearchBrowse",H=()=>{const{spec:e,UBIFragment:i}=(0,N.fU)(u.createDesktopFindEventFactory,{data:{uri:"search:find"}}),{recentSearchesSpec:n,topGenresSpec:t,browseAllSpec:s}=(0,a.useMemo)((()=>({recentSearchesSpec:e.recentSearchesFactory(),topGenresSpec:e.topGenresFactory(),browseAllSpec:e.browseAllFactory()})),[e]);return(0,E.jsxs)("div",{className:L,children:[(0,E.jsx)(i,{spec:n,children:(0,E.jsx)(_,{})}),(0,E.jsx)(k.F,{property:S.Oe,renderNewExperience:()=>(0,E.jsx)(p.Tn,{browseAllSpec:s}),renderOldExperience:()=>(0,E.jsx)(v.T,{topGenresSpec:t,browseAllSpec:s})})]})};var M=n(94184),B=n.n(M),W=n(58588),G=n(54214),K=n(55426),Z=n(67892);const $=(0,a.createContext)(null),z=$.Provider;function X(){const e=(0,a.useContext)($);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var Q=n(29083);const Y="search-searchCategory-SearchCategory",J="search-searchCategory-container",ee="search-searchCategory-wrapper",ie="search-searchCategory-categoryGridItem",ne=({to:e,title:i,selected:n,onClick:a})=>(0,E.jsx)(Z.Z,{replace:!0,to:e,tabIndex:-1,onClick:a,className:ie,children:(0,E.jsx)(W.A,{selected:n,selectedColorSet:"invertedLight",tabIndex:-1,children:i})}),ae=({searchCategories:e,selectedCategory:i,displayChips:n})=>{const a=(0,m.n)(),t=(0,d.W6)(S.Dz),{query:s}=X(),{spec:l,logger:r}=(0,N.fU)(G.createDesktopSearchChipsEventFactory,{});if(!s||!n)return null;const o=encodeURIComponent(s);return(0,E.jsx)("div",{className:Y,children:(0,E.jsx)("div",{className:B()(J,{contentSpacing:!a}),children:(0,E.jsx)("div",{className:ee,children:(0,E.jsxs)(K.l,{children:[!t&&e.length>0&&(0,E.jsx)(ne,{to:`spotify:app:search:${o}`,title:c.ag.get("search.title.all"),selected:void 0===i,onClick:()=>{r.logInteraction(l.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${o}`}))}},"all"),e.map(((e,n)=>{const a=Q.Wm[e]?.();return(0,E.jsx)(ne,{to:`spotify:app:search:${o}:${e}`,title:a,selected:i===e,onClick:()=>{r.logInteraction(l.chipFactory({identifier:e,position:n+1}).hitUiNavigate({destination:`spotify:app:search:${o}:${e}`}))}},e)}))]})})})})};var te=n(32667),se=n(43675),le=n(19480);const re="Ul_eSpTV7OKDhvXcgfzw",de="HFNTjI36ujrPacyLOwTT",oe=()=>{const{searchHistory:e,clearSearchHistory:i}=(0,O.u)(),{onSearchRequest:n}=X(),{spec:t,logger:s,UBIFragment:l}=(0,N.fU)(se.createDesktopRecentSearchesEventFactory,{data:{uri:"spotify:app:recent-searches"}}),r=(0,a.useMemo)((()=>t.recentSearchesCardsFactory()),[t]),d=(0,a.useCallback)((()=>{const e=t.clearButtonFactory().hitClearRecentSearches();s.logInteraction(e),i(),n("")}),[i,n,s,t]);return 0===e.length?null:(0,E.jsxs)("div",{className:re,children:[(0,E.jsx)(l,{spec:r,children:(0,E.jsx)(le.P,{title:c.ag.get("search.title.recent-searches"),showAll:!0,children:e.map(((e,n)=>(0,E.jsx)(q.ZP,{index:n,value:"search-history",children:(0,E.jsx)(U,{clearSearchHistory:i,entity:e,index:n})},e.uri)))})}),(0,E.jsx)("button",{onClick:d,className:de,children:(0,E.jsx)(te.D,{variant:"minuetBold",children:c.ag.get("search.clear-recent-searches")})})]})};var ce=n(7073);const me={[ce.xN.Podcasts]:["podcasts","podcastAndEpisodes"],[ce.xN.Episodes]:["episodes","podcastAndEpisodes"],[ce.xN.TopResults]:["topResults","topResults"],[ce.xN.Artists]:["artists","artists"],[ce.xN.Albums]:["albums","albums"],[ce.xN.Playlists]:["playlists","playlists"],[ce.xN.Tracks]:["tracks","tracks"],[ce.xN.Audiobooks]:["audiobooks","audiobooks"],[ce.xN.Genres]:["genres","genres"],[ce.xN.Users]:["users","users"]};var ue=n(48817),ke=n(87961),pe=n(3775),ve=n(22578),Ne=n(28638),Se=n(13983),ge=n(12164);const he=(e,i)=>{const n=("object"==typeof e?.requestIds?e?.requestIds:void 0)?.[i],a="object"==typeof n?n:void 0;return"string"==typeof a?.["search-api"]?a?.["search-api"]:void 0},ye=e=>he(e,"/searchV2"),fe=e=>he(e,"/searchV2/topResults");n(98984);var xe=n(6205),Fe=n(61742),be=n(57981);const je={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchImageURLAndSize"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageSource"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]},Ce={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchImageSources"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageURLAndSize"}}]}},{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}}]}}]},Ie={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAlbumDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}}]}}]}}]}}]},Te={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchArtistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"verified"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}}]}}]}}]}}]},De={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]},Ae={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchGenreDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenreResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Genre"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}}]}}]}}]},Ee={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPlaylistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageURLAndSize"}}]}}]}}]}}]}}]}}]}}]}}]}}]},Re={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPodcastDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}}]}}]},we={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAudiobookDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"publishDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}}]}}]}}]},Ve={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTrackDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}}]}}]}}]}}]},Pe={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchUserDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",alias:{kind:"Name",value:"displayName"},name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}}]}}]}}]},Ue={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchFullEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchFullEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchFullEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastMetadataV2"}}]}}]}}]}}]}}]}}]}},...be.n0.definitions,...xe.rD.definitions,...xe.rA.definitions,...Fe.Zl.definitions,...xe.TS.definitions,...be.Rr.definitions]};var qe=n(67691),Oe=n(23384),_e=n(72169),Le=n(143);function He(e){if(!e?.colorDark.isFallback)return e?.colorDark.hex}function Me(e){return e.map((e=>e.url?{url:e.url,width:Number(e.width)||56,height:Number(e.height)||56}:e))}const Be={type:A.p.SHOW,uri:"",name:"",publisher:"",images:[],mediaType:Le.E.UNKNOWN};function We(e,i){return{items:Ge(e?.items||[],i),totalCount:e?.totalCount||0}}function Ge(e,i){return e.map((e=>Ke(e,i))).filter(Oe.K)}function Ke(e,i){if("Episode"!==e.data?.__typename)return null;const n=e.data,a=n.podcastV2.data;let t=Be;return"Podcast"===a.__typename&&(t={type:A.p.SHOW,uri:a.uri,name:a.name,publisher:a.publisher?.name||"",mediaType:(0,_e.x7)(a.mediaType),images:Me(a.coverArt?.sources||[])}),{type:A.p.EPISODE,name:n.name,images:Me(n.coverArt?.sources||[]),uri:n.uri,duration:{milliseconds:n.duration.totalMilliseconds},isExplicit:n.contentRating?.label===ce.KS.Explicit,release:(0,_e.dR)(n.releaseDate),description:n.description||"",timeLeft:{milliseconds:n.playedState.state===ce.sY.Completed?0:n.duration.totalMilliseconds-n.playedState.playPositionMilliseconds},is19PlusOnly:n.contentRating?.label===ce.KS.NineteenPlus,show:t,requestId:i,color:He(n.coverArt?.extractedColors)}}const Ze={...Be,description:"",htmlDescription:"",coverArt:[],trailer:null,topics:[],podcastType:"UNKNOWN",showTypes:[],publisherName:"",consumptionOrder:"recent",nextBestEpisode:void 0};function $e(e,i){return e.map((e=>function(e,i){if("Episode"!==e.data?.__typename)return null;let n=Ze;"Podcast"===e.data.podcastV2.data.__typename&&(n=(0,qe.XU)(e.data.podcastV2.data));return{requestId:i,episode:(0,qe.YS)(e.data),show:n}}(e,i))).filter(Oe.K)}async function ze(e,i){const n=await e(Ue,i),a=n?.data?.searchV2?.episodes;return a?function(e,i){return{items:$e(e?.items||[],i),totalCount:e?.totalCount||0}}(a,ye(n?.extensions)):null}const Xe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchDesktop"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}]}]}}]}},{kind:"Field",name:{kind:"Name",value:"featured"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"chipOrder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"typeName"}}]}}]}}]}}]}},...Ie.definitions,...Ce.definitions,...je.definitions,...Te.definitions,...De.definitions,...xe.rD.definitions,...xe.rA.definitions,...Ae.definitions,...Ee.definitions,...Re.definitions,...we.definitions,...Ve.definitions,...Pe.definitions]};function Qe(e,i){return{items:Ye(e?.items||[],i),totalCount:e?.totalCount||0}}function Ye(e,i){return e.map((e=>Je(e,i))).filter(Oe.K)}function Je(e,i){if("Album"!==e.data?.__typename)return null;const n=e.data;return{type:A.p.ALBUM,name:n.name,uri:n.uri,images:Me(n.coverArt?.sources||[]),artists:n.artists.items.map((e=>({type:A.p.ARTIST,name:e.profile.name,uri:e.uri}))),year:n.date?.year,requestId:i,color:He(e.data.coverArt?.extractedColors)}}const ei={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAlbums"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Ie.definitions,...Ce.definitions,...je.definitions]};function ii(e,i){return{items:ni(e?.items||[],i),totalCount:e?.totalCount||0}}function ni(e,i){return e.map((e=>ai(e,i))).filter(Oe.K)}function ai(e,i){if("Artist"!==e.data?.__typename)return null;const n=e.data;return{type:A.p.ARTIST,name:n.profile.name,images:Me(n.visuals?.avatarImage?.sources||[]),uri:n.uri,verified:n.profile.verified||!1,requestId:i,color:He(n.visuals.avatarImage?.extractedColors)}}const ti={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Te.definitions,...Ce.definitions,...je.definitions]};function si(e,i){return{items:li(e?.items||[],i),totalCount:e?.totalCount}}function li(e,i){return e.map((e=>ri(e,i))).filter(Oe.K)}function ri(e,i){if("Audiobook"!==e.data?.__typename)return null;const n=e.data;return{type:A.p.AUDIOBOOK,uri:n.uri,name:n.name,images:Me(n.coverArt?.sources||[]),authorName:n.authors?.[0]?.name??"",topics:n.topics.items||[],publishDate:n.publishDate?new Date(n.publishDate.isoString):null,requestId:i,color:He(n.coverArt?.extractedColors)}}const di={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAudiobooks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...we.definitions,...Ce.definitions,...je.definitions]};const oi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...De.definitions,...Ce.definitions,...je.definitions,...xe.rD.definitions,...xe.rA.definitions]};var ci=n(69518),mi=n.n(ci);function ui(e,i){return{items:ki(e?.items||[],i),totalCount:e?.totalCount||0}}function ki(e,i){return e.map((e=>pi(e,i))).filter(Oe.K)}function pi(e,i){if("Genre"!==e.data?.__typename)return null;const n=e.data,a=mi().from(n.uri);return{type:A.p.GENRE,name:n.name,uri:a?n.uri:`spotify:app:genre:${n.uri}`,images:Me(n.image?.sources||[]),requestId:i,color:He(n.image?.extractedColors)}}const vi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchGenres"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Ae.definitions,...Ce.definitions,...je.definitions]};const Ni={type:A.p.USER,uri:"",displayName:"",username:"",images:[]};function Si(e,i){return{items:gi(e?.items||[],i),totalCount:e?.totalCount||0}}function gi(e,i){return e.map((e=>hi(e,i))).filter(Oe.K)}function hi(e,i){if("Playlist"!==e.data?.__typename)return null;const n=e.data;let a=Ni;if("User"===n.ownerV2?.data.__typename){const e=n.ownerV2?.data;a={type:A.p.USER,uri:e.uri||"",displayName:e.name||"",username:e.username||"",images:Me(e.avatar?.sources||[])}}return{type:A.p.PLAYLIST,uri:n.uri,name:n.name,images:Me(n.images?.items.flatMap((e=>e.sources))||[]),owner:a,requestId:i,color:He(n.images.items[0]?.extractedColors)}}const yi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPlaylists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Ee.definitions,...Ce.definitions,...je.definitions,...xe.rA.definitions]};function fi(e,i){return{items:xi(e?.items||[],i),totalCount:e?.totalCount||0}}function xi(e,i){return e.map((e=>Fi(e,i))).filter(Oe.K)}function Fi(e,i){if("Podcast"!==e.data?.__typename)return null;const n=e.data;return{type:A.p.SHOW,uri:n.uri,name:n.name,images:Me(n.coverArt?.sources||[]),publisher:n.publisher?.name||"",topics:n.topics.items||[],requestId:i,color:He(n.coverArt?.extractedColors)}}const bi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPodcasts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Re.definitions,...Ce.definitions,...je.definitions]};function ji(e,i){return{items:Ci(e,i),totalCount:e?.totalCount||0}}function Ci(e,i){return e?.items.map((e=>Ii(e,i))).filter(Oe.K)||[]}function Ii({item:e,matchedFields:i},n){if("Track"!==e.data?.__typename)return null;const a=e.data,t=a.albumOfTrack;return{type:A.p.TRACK,uri:a.uri,name:a.name,isPlayable:a.playability.playable,album:{type:A.p.ALBUM,uri:t?.uri||"",name:t?.name||"",images:Me(t?.coverArt?.sources||[])},artists:a.artists.items.map((e=>({type:A.p.ARTIST,name:e.profile.name,uri:e.uri}))),duration:{milliseconds:a.duration.totalMilliseconds},isExplicit:"EXPLICIT"===a.contentRating?.label,is19PlusOnly:"NINETEEN_PLUS"===a.contentRating?.label,requestId:n,isLyricsMatch:!!i?.includes(ce.$C.Lyrics),color:He(t?.coverArt?.extractedColors)}}const Ti={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Ve.definitions,...Ce.definitions,...je.definitions]};function Di(e,i){return{items:Ai(e?.items||[],i),totalCount:e?.totalCount||0}}function Ai(e,i){return e.map((e=>Ei(e,i))).filter(Oe.K)}function Ei(e,i){if("User"!==e.data?.__typename)return null;const n=e.data;return{type:A.p.USER,uri:n.uri,name:n.displayName||n.username,images:Me(n.avatar?.sources??[]),requestId:i,color:He(n.avatar?.extractedColors)}}const Ri={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Pe.definitions,...Ce.definitions,...je.definitions]};function wi(e,i){const n=e?.itemsV2??[];return{totalCount:n.length,items:n.map((e=>{const{item:n}=e;switch(n?.data?.__typename){case"Album":return Je(n,i);case"Artist":return ai(n,i);case"Audiobook":return ri(n,i);case"Episode":return Ke(n,i);case"Genre":return pi(n,i);case"Playlist":return hi(n,i);case"Podcast":return Fi(n,i);case"Track":return Ii(e,i);case"User":return Ei(n,i);default:return console.warn("Unable to determine the correct type for item",n),null}})).filter(Oe.K)}}function Vi(e,i){const n=e?.featured||[];return{artistName:n.length?Pi(e):"",items:n?.map((e=>hi(e,i))).filter(Oe.K)||[],totalCount:n.length||0}}function Pi(e){const i=(0,_e.wY)(e,"itemsV2",[]);try{return(0,_e.U2)(i.map((({item:e})=>e)).filter(Boolean),"0.data")?.profile?.name||""}catch{return""}}const Ui={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTopResultsOnly"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTopResultsOnly"}}]}},{kind:"Field",name:{kind:"Name",value:"chipOrder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"typeName"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTopResultsOnly"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopResultsV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}]},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}}]}}]}},...Ie.definitions,...Ce.definitions,...je.definitions,...Te.definitions,...De.definitions,...xe.rD.definitions,...xe.rA.definitions,...Ae.definitions,...Ee.definitions,...Re.definitions,...we.definitions,...Ve.definitions,...Pe.definitions]};const qi={items:[],totalCount:0},Oi={albums:qi,artists:qi,episodes:qi,genres:qi,playlists:qi,podcasts:qi,audiobooks:qi,topResults:{items:[]},tracks:qi,users:qi,topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}},_i={albums:async function(e,i){const n=await e(ei,i),a=n?.data?.searchV2?.albums;return a?Qe(a,ye(n?.extensions)):null},artists:async function(e,i){const n=await e(ti,i),a=n?.data?.searchV2?.artists;return a?ii(a,ye(n?.extensions)):null},episodes:async function(e,i){const n=await e(oi,i),a=n?.data?.searchV2?.episodes;return a?We(a,ye(n?.extensions)):null},genres:async function(e,i){const n=await e(vi,i),a=n?.data?.searchV2?.genres;return a?ui(a,ye(n?.extensions)):null},playlists:async function(e,i){const n=await e(yi,i),a=n?.data?.searchV2?.playlists;return a?Si(a,ye(n?.extensions)):null},podcasts:async function(e,i){const n=await e(bi,i),a=n?.data?.searchV2?.podcasts;return a?fi(a,ye(n?.extensions)):null},audiobooks:async function(e,i){const n=await e(di,i),a=n?.data?.searchV2?.audiobooks;return a?si(a,ye(n?.extensions)):null},tracks:async function(e,i){const n=await e(Ti,i),a=n?.data?.searchV2?.tracksV2;return a?ji(a,ye(n?.extensions)):null},users:async function(e,i){const n=await e(Ri,i),a=n?.data?.searchV2?.users;return a?Di(a,ye(n?.extensions)):null},topResults:async function(e,i){const n=await e(Ui,i),a=n?.data?.searchV2?.topResults;return a?wi(a,fe(n?.extensions)):null}};class Li{constructor(e){this._request=e}async getSearchResults(e,i=!1,n=0,a=10,t=5){const s={searchTerm:e,offset:n,limit:a,numberOfTopResults:t,includeAudiobooks:i},l=await this._request(Xe,s),r=l?.data.searchV2;if(!r)return Oi;const d=ye(l?.extensions),o=fe(l?.extensions);return{albums:Qe(r.albums,d),artists:ii(r.artists,d),episodes:We(r.episodes,d),genres:ui(r.genres,d),playlists:Si(r.playlists,d),podcasts:fi(r.podcasts,d),audiobooks:si(r.audiobooks??null,d),tracks:ji(r.tracksV2,d),users:Di(r.users,d),topResults:wi(r.topResults,o),topRecommendations:Vi(r.topResults,o),chipOrder:r.chipOrder}}async getSearchCategoryResults(e,i,n=!1,a=0,t=25,s=20){const l={searchTerm:e,offset:a,limit:t,numberOfTopResults:s,includeAudiobooks:n};return await _i[i](this._request,l)||qi}async getFullEpisodes(e,i=0,n=25){const a={searchTerm:e,offset:i,limit:n};return await ze(this._request,a)||qi}}var Hi=n(15416),Mi=n(73727),Bi=n(34011);const Wi="hngqMWKjlLOEcuxpoHz9",Gi="WjLSNZPxuT0Zuw42kxSM",Ki="zFOvsuNQpwehjH2VoiLL",Zi="zeGt0Z2HCYRvd6ziu_t9",$i=({forChip:e})=>{const{query:i}=X(),n=`/search/${i}`;return(0,E.jsxs)("div",{className:Wi,"aria-live":"polite",children:[(0,E.jsx)(te.D,{as:"h1",variant:"canon",className:Gi,children:e?c.ag.get("search.empty-results-title-for-chip",i,e):c.ag.get("search.empty-results-title",i)}),(0,E.jsx)("p",{className:Ki,children:c.ag.get("search.empty-results-text")}),e&&(0,E.jsx)(Mi.rU,{to:n,children:(0,E.jsx)(Bi.D,{colorSet:"invertedLight",className:Zi,children:c.ag.get("search.see-all")})})]})},zi={albums:o.Wg.SEARCH_ALBUMS,artists:o.Wg.SEARCH_ARTISTS,episodes:o.Wg.SEARCH_EPISODES,genres:o.Wg.SEARCH_GENRES,playlists:o.Wg.SEARCH_PLAYLISTS,podcasts:o.Wg.SEARCH_SHOWS,audiobooks:o.Wg.SEARCH_AUDIOBOOKS,tracks:o.Wg.SEARCH_SONGS,users:o.Wg.SEARCH_PROFILES,podcastAndEpisodes:o.Wg.SEARCH_PODCASTS_AND_EPISODES,topResults:o.Wg.SEARCH};function Xi({children:e}){const{query:i,category:n}=(0,s.UO)();return(0,E.jsx)(ge.K,{pageId:zi[n],entityUri:`spotify:app:search:${i}:${n}`,children:e})}function Qi({children:e}){const{query:i}=(0,s.UO)();return(0,E.jsx)(ge.K,{pageId:o.Wg.SEARCH,entityUri:`spotify:app:search:${i}`,children:e})}var Yi=n(21684),Ji=n(13218),en=n(10912);const nn={results:null,isError:!1,isFetchMoreError:!1},an=(e,i)=>{const n=(0,en.t)(),t=(0,a.useRef)(null),s=(0,a.useRef)(0),[l,r]=(0,a.useState)(nn),d=(0,a.useCallback)((async(a=!1)=>{if(!n())return;a&&(s.current=0,t.current=null);let l=e;if(null!==t.current){if(s.current>=t.current)return;s.current+l>t.current&&(l=t.current-s.current)}try{const e=await i(s.current,l);s.current+=l,t.current=e.totalCount||0,n()&&r((i=>({isError:!1,isFetchMoreError:!1,results:(a||null===i.results?[]:i.results).concat(e.items)})))}catch(e){n()&&r((e=>{const i=null===e.results||a;return{results:a?[]:e.results,isError:i,isFetchMoreError:!i}}))}}),[e,i,n]);return(0,a.useEffect)((()=>{d(!0)}),[d]),{results:l.results,isError:l.isError,fetchData:d,totalCountRef:t}};var tn=n(38470),sn=n(24570),ln=n(4232),rn=n(43683),dn=n(4383),on=n(26492);const cn=a.memo((function({uri:e,size:i=rn.q.md,className:n,onClick:t,showUpsell:s}){const[l,r]=(0,dn.Z)(e),d=(0,on.o)(),o=(0,a.useCallback)((()=>{d({targetUri:e,intent:"add-to-library",type:"click"}),r(!0)}),[d,e,r]);return(0,E.jsx)(rn.o,{className:n,isFollowing:l,onFollow:o,onClick:t,uri:e,size:i,showUpsell:s})})),mn="RTP39YFgFAoVSlly6vCF",un="QT1jLaHHvO5g2YQor2Fw",kn="wArYyZVjFviopRvRFV8t",pn="kRDD8AcqeOf5UDjOSQ8j",vn="XN4TCZATPrKkEMngUtFc",Nn="VYaCpehPPhmTYPRxMBub",Sn="abMqJCpsuShBo0DaZ7IY",gn="ON88h0KYGqXMdOfsqot8",hn="BHFMWOZUKxElyq1Ffc_S",yn="EyH4QLenIbFw0x8r83eK",fn="JA9jP30dm3GJikfs7vBn",xn="xKl_2100SG4svBvzZ8Xv",Fn="leel3U31UlOaYhKp6FgQ",bn="FxqpfDsISPKNu1XFExOg",jn="kE234isNxJ9XiTT8QoJL",Cn="KcOp4A5HBQ4EPH0IDRxg",In="oODk_3Glvh7wotUlk4ov";var Tn=n(53538);const Dn=({uri:e,spec:i})=>{const n=(0,N.$P)(),t=(0,a.useCallback)(((a,t)=>{(0,Tn.l7)(t,i.downloadButtonFactory(),n,e)}),[n,i,e]);return(0,E.jsx)(cn,{className:pn,uri:e,size:rn.q.xs,showUpsell:!1,onClick:t})};var An=n(37761),En=n(7469);const Rn=({shape:e=An.K.ROUNDED_CORNERS,type:i,name:n,images:a})=>(0,E.jsx)(An.O,{shape:e,size:En.m$.SIZE_64,images:a,type:i,title:n});var wn=n(48690),Vn=n(32626);const Pn=(0,a.createContext)((()=>{})),Un=({menu:e,name:i,spec:n})=>{const t=(0,N.$P)(),s=(0,a.useContext)(Pn),l=(0,a.useCallback)((()=>{t.logInteraction(n.contextButtonFactory().hitUiReveal()),s(!0)}),[t,s,n]),r=(0,a.useCallback)((()=>{s(!1)}),[s]);return(0,E.jsx)(Vn.yj,{menu:e,onShow:l,onHide:r,children:(0,E.jsx)(wn.z,{className:vn,size:wn.q.sm,label:c.ag.get("more.label.context",i)})})};var qn=n(83692);const On=({name:e,uri:i,spec:n})=>{const t=(0,N.$P)(),s=(0,a.useCallback)((()=>{t.logInteraction(n.titleLinkFactory({uri:i}).hitUiNavigate({destination:i}))}),[t,n,i]);return(0,E.jsx)(qn.w,{label:e,children:(0,E.jsx)(Z.Z,{to:i,className:hn,onClick:s,children:(0,E.jsx)(te.D,{variant:"balladBold",semanticColor:"textBase",className:yn,children:e})})})};var _n=n(69691),Ln=n(24697),Hn=n(28230),Mn=n(83813),Bn=n(13947),Wn=n(49874),Gn=n(84242);const Kn=a.forwardRef((function({children:e,isLocked:i=!1,uri:n,playAriaLabel:t,spec:s},l){const[r,d]=(0,a.useState)(!1),o=(0,N.$P)(),{isPlaying:c,isActive:m,togglePlay:u}=(0,Gn.n)({uri:n},{featureIdentifier:"search"}),k=(0,Ln.y1)((e=>{if(e.preventDefault(),e.detail>0&&e.currentTarget&&e.currentTarget.blur(),i)o.logInteraction(s.playbackButtonFactory().hitShowPaywall({paywalledItem:n}));else{const e=(0,Tn.aK)({isPlaying:c,isActive:m,spec:s.playbackButtonFactory(),logger:o,uri:n});u({loggingParams:e})}}),Bn.s_,{leading:!0,trailing:!1});(0,a.useEffect)((()=>{const e=()=>{d(!0)},i=()=>{d(!1)};return c&&(d(document.hasFocus()),window.addEventListener("focus",e),window.addEventListener("blur",i)),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",i)}}),[c]);const p=!(0,Wn.T)()&&r;return(0,E.jsxs)("div",{className:B()(fn),children:[c?(0,E.jsx)("img",{className:Sn,width:"14",height:"14",alt:"",src:(0,Hn.g)(p?"images/equaliser-animated-green.gif":"images/equaliser-green.svg")}):e,(0,E.jsx)(Mn.I,{className:Nn,iconClassName:Cn,onClick:k,isPlaying:c,isLocked:i,playAriaLabel:t,ref:l})]})}));var Zn=n(87379),$n=n(57784);const zn=e=>void 0!==e;const Xn=({uri:e,destinationUri:i=e,name:n,createdBy:t,menu:s,media:l,leading:r,title:d,subtitle:o,body:c,trailing:m,onClick:u,spec:k})=>{const{isActive:p}=(0,_n.cR)(e),v=(0,N.$P)(),S=(0,a.useCallback)((()=>{v.logInteraction(k.secondaryHitUiReveal())}),[v,k]),g=(0,a.useCallback)((e=>{e.isDefaultPrevented()||(v.logInteraction(k.hitUiNavigate({destination:i})),u(e))}),[v,u,k,i]),h=function(e,i){if(e!==i)return`?highlight=${e}`}(e,i),y=(0,N.Wi)(k),f=((e,i,n)=>{const t=(0,$n.O1)();return(0,a.useCallback)((a=>{if(a.target!==a.currentTarget)return;const s=[i,n].filter(zn).join(" • ");t(a,[e],s,void 0,void 0)}),[t,n,i,e])})(e,n,t),[x,F]=(0,a.useState)(!1);return(0,E.jsx)(Pn.Provider,{value:F,children:(0,E.jsx)(Vn._P,{menu:s,onShow:S,children:(0,E.jsx)(Z.Z,{to:i,search:h,tabIndex:-1,onClick:g,className:mn,"data-context-menu-open":x.toString(),ref:y,children:(0,E.jsx)(Zn.i,{leading:r||!0,title:d,subtitle:o,body:c,trailing:m,media:l,className:B()(un,{[gn]:p}),onDragStart:f})})})})};var Qn=n(51871),Yn=n(24237);const Jn=({uri:e,type:i,spec:n})=>{const t=(0,N.$P)(),s=(0,a.useCallback)((i=>{const a=i?n.heartButtonFactory().hitLike({itemToBeLiked:e}):n.heartButtonFactory().hitRemoveLike({itemNoLongerLiked:e});t.logInteraction(a)}),[n,t,e]);return["episode","audiobook"].includes(i)?(0,E.jsx)(Qn.w,{uri:e,className:kn,onClick:s}):(0,E.jsx)(Yn.B,{uri:e,className:kn,onClick:s})};var ea=n(80507),ia=n(86514),na=n(43480),aa=n(50644),ta=n(18261);const sa=({children:e,uri:i,name:n,index:t,menu:s,spec:l})=>{const r=(0,$n.O1)([i],n),d=(0,N.$P)(),o=(0,a.useCallback)((()=>{const e=l.subtitleLinkFactory({uri:i,position:t}).hitUiNavigate({destination:i});d.logInteraction(e)}),[t,d,l,i]);return(0,E.jsx)(ta._,{menu:s,children:(0,E.jsx)(qn.w,{label:n,children:(0,E.jsx)(Z.Z,{draggable:!0,to:i,onDragStart:r,dir:"auto",onClick:o,children:e})})})},la=({artists:e,spec:i})=>e?(0,E.jsx)(E.Fragment,{children:e.map((({uri:e,name:n},a)=>[a>0&&c.ag.getSeparator(),(0,E.jsx)(sa,{name:n,uri:e,index:a,menu:(0,E.jsx)(ea.m,{uri:e}),spec:i,children:n},e)]))}):null,ra=({topics:e=[],spec:i})=>0===e.length?null:(0,E.jsx)(E.Fragment,{children:e.filter(aa.J).map((({uri:e,title:n},a)=>[a>0&&c.ag.getSeparator(),(0,E.jsx)(sa,{name:n,uri:e,index:a,spec:i,children:n},e)]))}),da=({show:e,spec:i})=>(0,E.jsx)(sa,{name:e.name,uri:e.uri,index:0,menu:(0,E.jsx)(ia.M,{uri:e.uri}),spec:i,children:e.name}),oa=({uri:e,name:i,spec:n})=>(0,E.jsx)(sa,{name:i,uri:e,index:0,menu:(0,E.jsx)(na.I,{uri:e}),spec:n,children:i}),ca=a.memo((function({album:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:r,images:d,year:o,artists:m}=e,u=m[0].name,{spec:k}=(0,N.fU)(sn.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:p}=(0,_n.cR)(s),v=(0,E.jsx)(ln.Y,{uri:s});return(0,E.jsx)(Xn,{spec:k,menu:v,uri:s,name:r,createdBy:m.map((e=>e.name)).join(c.ag.getSeparator()),onClick:i,media:(0,E.jsx)(Rn,{type:l,name:r,images:d}),leading:(0,E.jsx)(Kn,{isLocked:!1,uri:s,spec:k,playAriaLabel:p?c.ag.get("pause"):c.ag.get("tracklist.a11y.play",r,u)}),title:(0,E.jsx)(On,{name:r,uri:s,spec:k}),subtitle:(0,E.jsxs)(te.D,{variant:"mesto",semanticColor:"textSubdued",className:In,children:[a&&(0,E.jsx)(te.D,{className:jn,children:c.ag.get("card.tag.album")}),(0,E.jsx)(te.D,{className:jn,children:(0,E.jsx)(la,{artists:m,spec:k})})]}),body:(0,E.jsx)(te.D,{variant:"mesto",semanticColor:"textSubdued",children:o}),trailing:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Dn,{uri:s,spec:k}),(0,E.jsx)(Jn,{uri:s,type:"album",spec:k}),(0,E.jsx)(Un,{menu:v,name:r,spec:k})]})})}));var ma=n(68513);const ua=a.memo((function({artist:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:r,images:d,verified:o}=e,{spec:m}=(0,N.fU)(sn.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:u}=(0,_n.cR)(s),k=(0,E.jsx)(ea.m,{uri:s});return(0,E.jsx)(Xn,{spec:m,menu:k,uri:s,name:r,onClick:i,media:(0,E.jsx)(Rn,{type:l,name:r,images:d}),leading:(0,E.jsx)(Kn,{isLocked:!1,uri:s,spec:m,playAriaLabel:u?c.ag.get("playlist.a11y.play",r):c.ag.get("pause")}),title:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(On,{name:r,uri:s,spec:m}),o&&(0,E.jsx)(ma.S,{iconSize:16})]}),subtitle:a&&(0,E.jsx)(te.D,{variant:"mesto",semanticColor:"textSubdued",children:c.ag.get("card.tag.artist")}),trailing:(0,E.jsx)(Un,{menu:k,name:r,spec:m})})}));var ka=n(28137),pa=n(43315);const va=a.memo((function({book:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:r,images:d,authorName:o,publishDate:m,topics:u}=e,{spec:k}=(0,N.fU)(sn.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),p=(0,E.jsx)(ka.X,{uri:s}),v=u&&u.length>0;return(0,E.jsx)(Xn,{spec:k,menu:p,uri:s,name:r,onClick:i,media:(0,E.jsx)(Rn,{type:l,name:r,images:d}),title:(0,E.jsx)(On,{name:r,uri:s,spec:k}),subtitle:(0,E.jsxs)(te.D,{variant:"mesto",semanticColor:"textSubdued",className:In,children:[a&&(0,E.jsx)(te.D,{className:jn,children:c.ag.get("search.row.subtitle")}),(0,E.jsx)(qn.w,{label:o,children:(0,E.jsx)(te.D,{className:jn,children:o})})]}),body:(0,E.jsxs)(E.Fragment,{children:[m&&(0,E.jsx)(te.D,{variant:"mesto",semanticColor:"textSubdued",className:jn,children:(0,pa.rL)((0,pa.RX)(m.toISOString()))}),v&&(0,E.jsx)(te.D,{variant:"mesto",semanticColor:"textSubdued",className:jn,children:(0,E.jsx)(ra,{topics:u,spec:k})})]}),trailing:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Jn,{uri:s,type:"audiobook",spec:k}),(0,E.jsx)(Un,{menu:p,name:r,spec:k})]})})}));var Na=n(28066),Sa=n(37483),ga=n(25988),ha=n(87257),ya=n(57978),fa=n(80922);const xa=a.memo((function({episode:e,onClick:i,index:n,withEntityTag:t=!1}){const{requestId:s,uri:l,type:r,name:d,images:o,show:m,release:u,duration:k,isExplicit:p,is19PlusOnly:v,timeLeft:S}=e,{logger:g,spec:h}=(0,N.fU)(sn.createDesktopSearchRowEventFactory,{data:{position:n,reason:s??"",uri:l}}),{isPlaying:y}=(0,_n.cR)(l),f=(0,a.useCallback)(((e,i)=>{(0,Tn.l7)(i,h.downloadButtonFactory(),g,l)}),[g,h,l]),x=(0,E.jsx)(ga.k,{uri:l});return(0,E.jsx)(Xn,{spec:h,menu:x,uri:l,name:d,createdBy:m.name,onClick:i,media:(0,E.jsx)(Rn,{type:r,name:d,images:o}),leading:(0,E.jsx)(Kn,{isLocked:!1,uri:l,spec:h,playAriaLabel:y?c.ag.get("pause"):c.ag.get("tracklist.a11y.play",d,m.publisher)}),title:(0,E.jsx)(On,{name:d,uri:l,spec:h}),subtitle:(0,E.jsxs)(E.Fragment,{children:[p&&(0,E.jsx)(ha.N,{}),v&&(0,E.jsx)(ya.X,{size:16}),(0,E.jsxs)(te.D,{variant:"mesto",semanticColor:"textSubdued",className:In,children:[t&&(0,E.jsx)(te.D,{children:c.ag.get("card.tag.episode")}),(0,E.jsx)(te.D,{className:jn,children:(0,E.jsx)(da,{show:m,spec:h})})]})]}),body:(0,E.jsxs)(E.Fragment,{children:[u.date&&(0,E.jsx)(te.D,{variant:"mesto",semanticColor:"textSubdued",className:jn,children:(0,pa.rL)((0,pa.RX)(u.date))}),(0,E.jsx)(te.D,{variant:"mesto",semanticColor:"textSubdued",className:B()(jn,xn),children:S.milliseconds>0?(0,E.jsx)(fa.n,{durationMs:k.milliseconds}):(0,E.jsxs)(te.D,{className:Fn,children:[c.ag.get("episode.played"),(0,E.jsx)(Na.N,{iconSize:16,className:bn,"aria-hidden":"true"})]})})]}),trailing:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Sa.p,{className:pn,uri:l,size:Sa.q.xs,showUri:m.uri,showUpsell:!1,onClick:f}),(0,E.jsx)(Jn,{uri:l,type:"episode",spec:h}),(0,E.jsx)(Un,{menu:x,name:d,spec:h})]})})}));var Fa=n(60566);const ba=a.memo((function({genre:e,onClick:i,index:n}){const{requestId:a,uri:t,type:s,name:l,images:r}=e,{spec:d}=(0,N.fU)(sn.createDesktopSearchRowEventFactory,{data:{position:n,reason:a??"",uri:t}});return(0,E.jsx)(Xn,{spec:d,menu:(0,E.jsx)(Fa.o,{uri:t}),uri:t,name:l,onClick:i,media:(0,E.jsx)(Rn,{type:s,name:l,images:r}),title:(0,E.jsx)(On,{name:l,uri:t,spec:d})})}));var ja=n(35410);const Ca=a.memo((function({playlist:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:r,images:d,owner:o}=e,{spec:m}=(0,N.fU)(sn.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:u}=(0,_n.cR)(s),k=o.displayName?c.ag.get("tracklist.a11y.play",r,o.displayName):c.ag.get("play"),p=(0,E.jsx)(ja.X,{uri:s});return(0,E.jsx)(Xn,{spec:m,menu:p,uri:s,name:r,createdBy:o.displayName??void 0,onClick:i,media:(0,E.jsx)(Rn,{type:l,name:r,images:d}),leading:(0,E.jsx)(Kn,{isLocked:!1,uri:s,spec:m,playAriaLabel:u?c.ag.get("pause"):k}),title:(0,E.jsx)(On,{name:r,uri:s,spec:m}),subtitle:(0,E.jsxs)(te.D,{variant:"mesto",semanticColor:"textSubdued",className:In,children:[a&&(0,E.jsx)(te.D,{className:jn,children:c.ag.get("card.tag.playlist")}),o.displayName&&(0,E.jsx)(te.D,{className:jn,children:(0,E.jsx)(oa,{uri:o.uri,name:c.ag.get("search.playlist-by",o.displayName),spec:m})})]}),trailing:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Dn,{uri:s,spec:m}),(0,E.jsx)(Jn,{uri:s,type:"playlist",spec:m}),(0,E.jsx)(Un,{menu:p,name:r,spec:m})]})})})),Ia=a.memo((function({show:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:r,images:d,publisher:o,topics:m}=e,{spec:u}=(0,N.fU)(sn.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),k=(0,E.jsx)(ia.M,{uri:s});return(0,E.jsx)(Xn,{spec:u,menu:k,uri:s,name:r,onClick:i,media:(0,E.jsx)(Rn,{type:l,name:r,images:d}),title:(0,E.jsx)(On,{name:r,uri:s,spec:u}),subtitle:(0,E.jsxs)(te.D,{variant:"mesto",semanticColor:"textSubdued",children:[(0,E.jsxs)("div",{children:[a&&(0,E.jsx)(te.D,{className:jn,children:c.ag.get("card.tag.show")}),(0,E.jsx)(te.D,{className:B()(jn),children:o})]}),(0,E.jsx)("div",{children:(0,E.jsx)(te.D,{className:B()(jn,In),children:(0,E.jsx)(ra,{topics:m,spec:u})})})]}),trailing:(0,E.jsx)(Un,{menu:k,name:r,spec:u})})}));var Ta=n(88214);const Da=a.memo((function({track:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:r,artists:d,album:o,isExplicit:m,is19PlusOnly:u}=e,k=d[0].name,{spec:p}=(0,N.fU)(sn.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:v}=(0,_n.cR)(s),S=(0,E.jsx)(Ta.$,{uri:s});return(0,E.jsx)(Xn,{spec:p,uri:s,destinationUri:o.uri,menu:S,name:r,createdBy:d.map((e=>e.name)).join(c.ag.getSeparator()),onClick:i,media:(0,E.jsx)(Rn,{type:l,name:r,images:o.images}),leading:(0,E.jsx)(Kn,{isLocked:!1,uri:s,spec:p,playAriaLabel:v?c.ag.get("pause"):c.ag.get("tracklist.a11y.play",r,k)}),title:(0,E.jsx)(On,{name:r,uri:s,spec:p}),subtitle:(0,E.jsxs)(E.Fragment,{children:[m&&(0,E.jsx)(ha.N,{}),u&&(0,E.jsx)(ya.X,{size:16}),(0,E.jsxs)(te.D,{variant:"mesto",semanticColor:"textSubdued",className:In,children:[a&&(0,E.jsx)(te.D,{children:c.ag.get("card.tag.track")}),(0,E.jsx)(te.D,{className:jn,children:(0,E.jsx)(la,{artists:d,spec:p})})]})]}),trailing:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Jn,{uri:s,type:"track",spec:p}),(0,E.jsx)(Un,{menu:S,name:r,spec:p})]})})})),Aa=a.memo((function({user:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:r,images:d}=e,{spec:o}=(0,N.fU)(sn.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),m=(0,E.jsx)(na.I,{uri:s});return(0,E.jsx)(Xn,{spec:o,menu:m,uri:s,name:r,onClick:i,media:(0,E.jsx)(Rn,{type:l,name:r,images:d,shape:An.K.CIRCLE}),title:(0,E.jsx)(On,{name:r,uri:s,spec:o}),subtitle:a&&(0,E.jsx)(te.D,{variant:"mesto",semanticColor:"textSubdued",children:c.ag.get("card.tag.profile")}),trailing:(0,E.jsx)(Un,{menu:m,name:r,spec:o})})})),Ea=({entity:e,index:i,withEntityTag:n})=>{const{onAddToHistory:t}=X(),s=(0,a.useCallback)((()=>{t(e)}),[e,t]);switch(e.type){case A.p.ALBUM:return(0,E.jsx)(ca,{album:e,onClick:s,index:i,withEntityTag:n});case A.p.ARTIST:return(0,E.jsx)(ua,{artist:e,onClick:s,index:i,withEntityTag:n});case A.p.AUDIOBOOK:return(0,E.jsx)(va,{book:e,onClick:s,index:i,withEntityTag:n});case A.p.EPISODE:return(0,E.jsx)(xa,{episode:e,onClick:s,index:i,withEntityTag:n});case A.p.GENRE:return(0,E.jsx)(ba,{genre:e,onClick:s,index:i});case A.p.PLAYLIST:return(0,E.jsx)(Ca,{playlist:e,onClick:s,index:i,withEntityTag:n});case A.p.USER:return(0,E.jsx)(Aa,{user:e,onClick:s,index:i,withEntityTag:n});case A.p.SHOW:return(0,E.jsx)(Ia,{show:e,onClick:s,index:i,withEntityTag:n});case A.p.TRACK:return(0,E.jsx)(Da,{track:e,onClick:s,index:i,withEntityTag:n});default:return(0,tn._)(e),null}};var Ra=n(70937),wa=n(18864),Va=n(47917);const Pa="FSAE0ABtUCeNRJckpcCH",Ua="H2PDjUgJNBIH5eWg59M0",qa="vRlEuZATPhZt2l04RVIw",Oa="Adlh7XTc3j3pXM3jGgr8",_a=({index:e,item:i})=>{const{episode:n,show:a}=i,{usePlayContextItem:t}=(0,Gn.n)({uri:i.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return(0,E.jsxs)("div",{className:Oa,children:[(0,E.jsx)(Va.V,{index:e,episode:n,showMetadata:a,usePlayContextItem:t}),(0,E.jsx)("hr",{className:qa,"aria-hidden":!0})]})},La=({showTitle:e=!0,displayEmptyPageOnEmptyResults:i=!0,displayError:n=!0,enableInfiniteScroll:a=!1,spec:t,fetchData:s,totalCountRef:l,items:r,isError:d,isSearchV3Enabled:o})=>{const{query:c}=X(),{ref:m,breakpoint:u}=(0,wa.Db)({[wa.Uo.MEDIUM]:0,[wa.Uo.LARGE]:600}),k=(0,N.$P)(),p=`spotify:app:search:${encodeURIComponent(c)}:${ct}`;return d?n?(0,E.jsx)(Yi.p,{}):null:0===l.current?i?(0,E.jsx)($i,{forChip:Q.Wm.episodes()}):null:(0,E.jsxs)(wa.ZU.Provider,{value:u,children:[r&&e&&(0,E.jsx)(Ji.r,{title:Q.Wm.episodes(),seeAllUri:p,onClickTitle:()=>{t&&k.logInteraction(t.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:p}))},onClickSeeAll:()=>{t&&k.logInteraction(t.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:p}))},hasMoreElements:!a&&r.length<(l.current||0)}),(0,E.jsx)("div",{ref:m,className:Ua,children:r&&(0,E.jsx)(Ra.C,{triggerOnInitialLoad:!1,className:B()({[Pa]:o}),onReachBottom:()=>{a&&s()},children:r})})]})},Ha=e=>{const{query:i,api:n}=X(),{results:t,isError:s,fetchData:l,totalCountRef:r}=an(30,(0,a.useCallback)(((e,a)=>n.getSearchCategoryResults(i,"episodes",!1,e,a)),[n,i]));return(0,E.jsx)(La,{...e,fetchData:l,totalCountRef:r,items:t?.map(((e,i)=>(0,E.jsx)(Ea,{entity:e,index:i},i))),isError:s,isSearchV3Enabled:!0})},Ma=e=>{const{query:i,api:n}=X(),{results:t,isError:s,fetchData:l,totalCountRef:r}=an(30,(0,a.useCallback)(((e,a)=>n.getFullEpisodes(i,e,a)),[n,i]));return(0,E.jsx)(La,{...e,fetchData:l,totalCountRef:r,items:t?.map(((e,i)=>(0,E.jsx)(_a,{item:e,index:i},i))),isError:s})},Ba=e=>(0,d.W6)(S.Dz)?(0,E.jsx)(Ha,{...e}):(0,E.jsx)(Ma,{...e});var Wa=n(85019);const Ga=e=>{const{title:i,category:n,query:a,results:t,onAddToHistory:s,position:l,showSeeAll:r}=e;if(!t)return null;const{items:d,totalCount:o}=t;return d&&0!==d.length?(0,E.jsx)(g.q,{index:l,id:n,total:o||0,title:i,testId:`${n}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(a)}:${n}`,showSeeAll:r,children:d.map(((e,i)=>(0,E.jsx)(q.ZP,{value:n,index:i,children:(0,E.jsx)(R,{onClick:()=>s(e),entity:e,index:i})},e.uri)))}):null},Ka="pE9ccpPiPFWfTWfDdKT_",Za=({results:e})=>{const{query:i,serpId:n,onAddToHistory:a}=X(),t=mi().searchURI(i).toURI(),{spec:s,UBIFragment:l}=(0,N.fU)(Wa.createDesktopSearchPodcastAndShowsEventFactory,{data:{uri:t,reason:n}});return 0===e?.podcasts.totalCount&&0===e?.episodes.totalCount?(0,E.jsx)($i,{forChip:Q.Wm.podcastAndEpisodes()}):(0,E.jsx)(l,{spec:s,children:(0,E.jsxs)("div",{className:Ka,children:[0!==e?.podcasts.totalCount&&(0,E.jsx)("div",{children:(0,E.jsx)(Ga,{position:0,category:"podcasts",title:Q.Wm.podcastAndEpisodes(),query:i,results:e?.podcasts,onAddToHistory:a})}),0!==e?.episodes.totalCount&&(0,E.jsx)("div",{children:(0,E.jsx)(Ba,{displayEmptyPageOnEmptyResults:!1,displayError:!1,spec:s})})]})})};var $a=n(78358);const za="bCoyoXohuLs0f6urF2PD",Xa="EF2m35WFubo6yUwP04MQ",Qa=({displayChips:e,category:i})=>{const{query:n,api:t,serpId:s,onAddToHistory:l}=X(),r=(0,d.W6)(S.uB),{results:o,isError:c,fetchData:m,totalCountRef:u}=an(30,(0,a.useCallback)(((e,a)=>t.getSearchCategoryResults(n,i,r,e,a)),[t,i,r,n])),k=(0,a.useCallback)(((e,i)=>(0,E.jsx)(q.ZP,{value:"card",index:i,children:(0,E.jsx)(R,{entity:e,onClick:()=>l(e),testId:`search-category-card-${i}`,index:i})},`${e.uri}-${i}`)),[l]),p=mi().searchURI(n).toURI(),{spec:v,UBIFragment:g}=(0,N.fU)($a.createDesktopSearchCategoryEventFactory,{data:{uri:p,identifier:i,reason:s}}),h=(0,a.useMemo)((()=>v.cardsFactory()),[v]);return c?(0,E.jsx)(Yi.p,{}):0===u.current?(0,E.jsx)($i,{forChip:Q.Wm[i]()}):(0,E.jsx)(g,{spec:h,children:(0,E.jsx)("div",{className:B()(za,{[Xa]:e}),children:o&&(0,E.jsx)(Ra.C,{onReachBottom:m,triggerOnInitialLoad:!1,children:(0,E.jsx)(ue.T,{render:()=>o.map(((e,i)=>k(e,i)))})})})})};var Ya=n(99996),Ja=n(13406),et=n(47991),it=n(49961),nt=n(63766);const at="BSIos9yETsaI3yKEqX2P",tt=({pageSize:e=100})=>{if(e>100)throw new Error("PathFinder does not support page sizes > 100");const{query:i,api:n,serpId:t}=X(),{results:s,isError:l,fetchData:r,totalCountRef:d}=an(e,(0,a.useCallback)(((e,a)=>n.getSearchCategoryResults(i,"tracks",!1,e,a)),[n,i])),o=(0,a.useCallback)(((e,i)=>{const n=(0,it.X)(e.album?.images,{desiredSize:40}),a=!(!1===e.isPlayable);return(0,E.jsx)(nt.e9,{index:i,uri:(0,et.$)(e),duration:e.duration,name:e.name,album:e.album,artists:e.artists,isPlayable:a,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:n?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch},i+e.uri)}),[]),u=(0,m.n)(),k=(0,a.useMemo)((()=>[nt.QD.INDEX,nt.QD.TITLE,nt.QD.ALBUM,nt.QD.DURATION]),[]),p=(0,a.useCallback)((e=>e.uri),[]),v=mi().searchURI(i).toURI(),{spec:S,UBIFragment:g}=(0,N.fU)(Ya.createDesktopSearchTracksEventFactory,{data:{uri:v,reason:t}}),h=(0,a.useMemo)((()=>S.tracksFactory()),[S]),y=c.ag.get("search.showing-category-query-songs",i);if(l)return(0,E.jsx)(Yi.p,{});if(0===d.current)return(0,E.jsx)($i,{forChip:Q.Wm.tracks()});const f=u?Ja.K1:Ja.K1+48;return(0,E.jsx)(g,{spec:h,children:(0,E.jsx)(q.ZP,{value:"search-results-tracklist",children:(0,E.jsx)("div",{className:at,children:s&&(0,E.jsx)(Ra.C,{triggerOnInitialLoad:!1,onReachBottom:r,children:(0,E.jsx)(nt.Pv,{ariaLabel:y,hasHeaderRow:!0,columns:k,renderRow:o,resolveUri:p,nrTracks:s.length,headerTop:f,tracks:s})})})})})},st="hciep85bysUuJqNoK7uw",lt="Xa3KEcm2U_GOL2KMSoHw",rt="KjXzXFYQr6Wp2QlxPUAY",dt=({category:e})=>{const{query:i,api:n,serpId:t}=X(),s=(0,d.W6)(S.uB),{results:l,isError:r,fetchData:o,totalCountRef:c}=an(50,(0,a.useCallback)(((a,t)=>n.getSearchCategoryResults(i,e,s,a,t)),[n,e,s,i])),m=mi().searchURI(i).toURI(),{spec:u,UBIFragment:k}=(0,N.fU)($a.createDesktopSearchCategoryEventFactory,{data:{uri:m,identifier:e,reason:t}}),{ref:p,breakpoint:v}=(0,wa.Db)({[wa.Uo.MEDIUM]:0,[wa.Uo.LARGE]:600}),g=(0,a.useMemo)((()=>u.cardsFactory()),[u]);if(r)return(0,E.jsx)(Yi.p,{});if(0===c.current)return(0,E.jsx)($i,{forChip:Q.Wm[e]()});const h="episodes"===e||"podcasts"===e,y="topResults"===e;return(0,E.jsx)(k,{spec:g,children:(0,E.jsx)(wa.ZU.Provider,{value:v,children:(0,E.jsx)("div",{ref:p,className:B()(st,{[rt]:h}),children:l&&(0,E.jsx)(Ra.C,{onReachBottom:o,triggerOnInitialLoad:!1,className:lt,children:l.map(((e,i)=>(0,E.jsx)(Ea,{entity:e,index:i,withEntityTag:y},e.uri)))})})})})},ot="podcastAndEpisodes",ct="episodes",mt=({results:e,displayChips:i})=>{const{category:n}=X(),a=(0,d.W6)(S.Dz);return n?n===ot?(0,E.jsx)(Za,{results:e}):a?(0,E.jsx)(dt,{category:n}):"tracks"===n?(0,E.jsx)(tt,{}):n===ct?(0,E.jsx)(Ba,{enableInfiniteScroll:!0,showTitle:!1}):(0,E.jsx)(Qa,{displayChips:i,category:n}):(0,E.jsx)(Yi.p,{})};var ut=n(62572),kt=n(73012),pt=n(50060),vt=n(18419);const Nt=a.memo((function({tracks:e,query:i}){const n=(0,a.useCallback)(((e,i)=>{const n=(0,it.X)(e.album?.images,{desiredSize:40}),a=!(!1===e.isPlayable);return(0,E.jsx)(nt.pt,{uri:(0,et.$)(e),duration:e.duration,name:e.name,album:e.album,artists:e.artists,isPlayable:a,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:i,imgUrl:n?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch},e.uri)}),[]),t=(0,a.useMemo)((()=>[nt.QD.TITLE,nt.QD.DURATION]),[]),s=(0,a.useCallback)((e=>e.uri),[]);return e&&(0,E.jsx)(q.ZP,{value:"search-results-tracklist",children:(0,E.jsx)(nt.Pv,{ariaLabel:c.ag.get("search.a11y.songs-search-results"),renderRow:n,rowPlaceholder:nt.hU,nrTracks:Math.min(e.length,4),tracks:e,resolveUri:s,columns:t},i)})}),((e,i)=>e.tracks===i.tracks)),St="search-searchResult-tracklistHeader",gt="search-searchResult-tracklistHeaderWrapper",ht="search-searchResult-tracklistHeaderText",yt="VL6wjp4Br_D3FEWrUGGR",ft="search-searchResult-tracklistContainer",xt="search-searchResult-tracklist",Ft=({tracks:e,query:i,className:n,showSeeAll:t=!0,spec:s})=>{const l=(0,N.$P)(),r=(0,a.useCallback)((()=>(0,E.jsx)("div",{className:xt,children:(0,E.jsx)(a.Suspense,{fallback:null,children:(0,E.jsx)(Nt,{tracks:e.items,query:i})})})),[i,e]),d=`spotify:app:search:${encodeURIComponent(i)}:tracks`,o=(0,a.useCallback)((()=>{const e=s.headerFactory().titleFactory().hitUiNavigate({destination:d});l.logInteraction(e)}),[l,s,d]),m=(0,a.useCallback)((()=>{const e=s.headerFactory().seeAllFactory().hitUiNavigate({destination:d});l.logInteraction(e)}),[l,s,d]);return e.items.length?(0,E.jsxs)("section",{className:B()(ft,n),"aria-label":c.ag.get("search.title.tracks"),"data-testid":"search-tracks-result",children:[(0,E.jsx)("div",{className:St,children:e.items.length>3?(0,E.jsxs)("div",{className:gt,children:[(0,E.jsx)("div",{className:ht,children:(0,E.jsx)(te.D,{as:"h2",variant:"canon",children:t?(0,E.jsx)(Z.r,{to:d,className:yt,onClick:o,children:c.ag.get("search.title.tracks")}):(0,E.jsx)("span",{className:yt,children:c.ag.get("search.title.tracks")})})}),t&&(0,E.jsx)(vt.SeeAll,{link:d,onClick:m})]}):(0,E.jsx)(te.D,{as:"h2",variant:"canon",className:yt,children:c.ag.get("search.title.tracks")})}),(0,E.jsx)(N.Nh,{spec:s,children:(0,E.jsx)(ue.T,{render:r})})]}):null},bt=({topRecommendations:e,query:i,className:n,onAddToHistory:a,position:t,showSeeAll:s})=>{const l=e.totalCount||0;return(0,E.jsx)(g.q,{index:t,id:"top-recommendations",className:n,total:l,title:c.ag.get("artist-page.featuring",e.artistName),seeAllUri:`spotify:app:search:${encodeURIComponent(i)}:topRecommendations`,showSeeAll:s,children:e.items.map(((e,i)=>(0,E.jsx)(q.ZP,{index:i,value:"top-recommendations",children:(0,E.jsx)(R,{onClick:()=>a(e),entity:e,index:i})},e.uri)))})},jt="search-searchResult-topResult",Ct="search-searchResult-topResultCard",It="search-searchResult-searchResultGrid",Tt="EFHPppToKFxfm6SRhL6K",Dt="search-searchResult-tracklistShort",At="search-searchResult-tracklistLong",Et="FTRmZyHUkeVY_X3RawUc",Rt="Tx_CKMgRE8CpW5vLdpAe",wt=({topResults:e,onAddToHistory:i})=>{const[n]=e.items;return n&&(0,E.jsx)(le.P,{total:1,className:jt,title:c.ag.get("search.title.top-result"),children:[(0,E.jsx)("div",{"aria-live":"polite","data-testid":"top-result-card",className:Ct,children:(0,E.jsx)(q.ZP,{value:"top-result-card",children:(0,E.jsx)(R,{isHero:!0,index:0,onClick:()=>i(n),entity:n})})},"top-result-item")]})},Vt=({results:e,initialCategory:i="topResults"})=>{const n=(0,d.W6)(S.Dz),{query:t,category:s,onAddToHistory:l,serpId:r}=X(),o=mi().searchURI(t).toURI(),{spec:c,UBIFragment:m}=(0,N.fU)(pt.createDesktopSearchEventFactory,{data:{uri:o,reason:r}}),u=e.topResults.items.length>0,k=e.tracks.items.length>0,p=e.topRecommendations.items.length>0,v=(0,a.useMemo)((()=>({topResult:c.topResultFactory(),trackList:c.trackListFactory(),shelves:c.shelvesFactory()})),[c]);return n&&!s?i===ot?(0,E.jsx)(Za,{results:e}):(0,E.jsx)(dt,{category:i}):(0,E.jsx)(ue.T,{className:It,rowGap:kt.mGT,testId:"search-results",render:({columnCount:i})=>{let n,a;return u?n=i>3?Dt:At:p&&(i>5&&k?(n=Tt,a=Et):(n=At,a=Rt)),(0,E.jsxs)(q.ZP,{value:"search-results",children:[u&&(0,E.jsx)(m,{spec:v.topResult,children:(0,E.jsx)(wt,{topResults:e.topResults,onAddToHistory:l})}),k&&(0,E.jsx)(Ft,{spec:v.trackList,className:n,query:t,tracks:e.tracks,onAddToHistory:l,showSeeAll:!1}),p&&(0,E.jsx)(m,{spec:v.shelves,children:(0,E.jsx)(bt,{position:0,query:t,className:a,topRecommendations:e.topRecommendations,onAddToHistory:l,showSeeAll:!1})}),Q.Pd.map(((i,n)=>(0,E.jsx)(m,{spec:v.shelves,children:(0,E.jsx)(Ga,{position:n+1,category:i,title:Q.Wm[i](),query:t,results:e[i],onAddToHistory:l,showSeeAll:!1})},`search-shelf-${i}`)))]})}})},Pt="search-searchPage-searchPageGrid",Ut="xol36rXFgZ_biOcw6Czk",qt=({results:e,hasResults:i})=>{const n=(0,m.n)(),a=(0,d.W6)(S.Dz),{category:l}=X(),r=((e,i,n)=>{const a=e?.chipOrder?.items??[];return Array.from(a.reduce(((a,t)=>{if(!t.typeName)return a;if(!n&&t.typeName===ce.xN.TopResults)return a;const[s,l]=me[t.typeName];return l&&s&&(i===l||e?.[s]?.items?.length)?(a.add(l),a):a}),new Set([])))})(e,l,a),c="podcasts"!==l&&"episodes"!==l,u=a?r[0]:void 0;return(0,E.jsxs)(q.ZP,{value:"search-page",children:[(0,E.jsx)(Ne.w,{children:n?(0,E.jsx)(ae,{searchCategories:r,selectedCategory:l??u,displayChips:c}):(0,E.jsx)(ut.M,{isSearchChipsEnabled:!0})}),!n&&(0,E.jsx)(ae,{searchCategories:r,selectedCategory:l??u,displayChips:c}),(0,E.jsx)("div",{className:(0,t.cx)("contentSpacing",{[Ut]:a}),id:"searchPage",children:(0,E.jsx)(ue.T,{className:Pt,render:()=>(0,E.jsxs)(s.rs,{children:[(0,E.jsx)(s.AW,{exact:!0,path:"/search",children:(0,E.jsx)(ge.K,{pageId:o.Wg.FIND,entityUri:"spotify:app:search",children:(0,E.jsx)(H,{})})}),(0,E.jsx)(s.AW,{exact:!0,path:"/recent-searches",children:(0,E.jsx)(ge.K,{pageId:o.Wg.SEARCH_RECENT,children:(0,E.jsx)(oe,{})})}),(0,E.jsx)(s.AW,{exact:!0,path:"/search/:query",children:(0,E.jsxs)(Qi,{children:[e&&i&&(0,E.jsx)(Vt,{results:e,initialCategory:u}),e&&!i&&(0,E.jsx)($i,{})]})}),(0,E.jsx)(s.AW,{path:"/search/:query/:category",children:(0,E.jsxs)(Xi,{children:[e&&i&&(0,E.jsx)(mt,{results:e,displayChips:c}),e&&!i&&(0,E.jsx)($i,{})]})})]})})})]})},Ot=a.memo((function(){const e=(0,d.W6)(S.uB),[{category:i,query:n},t]=(0,Hi.l)();(0,Se.z)("search");const[s,l]=(0,a.useState)({results:null,queryForResults:""}),o=s.results,m=null!==o&&void 0!==Object.keys(o).find((e=>"chipOrder"!==e&&o[e].items.length>0)),u=(0,a.useMemo)((()=>new Li((0,pe.PQ)(ke.b.getInstance()))),[]),{searchHistory:k,setSearchHistory:p}=(0,O.u)(),v=(0,a.useCallback)((e=>{p([e,...k])}),[k,p]),N=(0,a.useCallback)((async e=>{e===s.queryForResults&&m||t(e,i,!1)}),[s.queryForResults,i,m,t]);(0,a.useEffect)((()=>{(async()=>{if(!n)return;const i=await u.getSearchResults(n,e);l({results:i,queryForResults:n})})()}),[n,u,e]),(0,a.useEffect)((()=>{n||l({results:null,queryForResults:""})}),[n]);const g=(0,a.useMemo)((()=>r().create().toString()),[i,s.queryForResults]),h=(0,a.useMemo)((()=>({api:u,category:i,query:s.queryForResults,onAddToHistory:v,onSearchRequest:N,serpId:g})),[u,i,v,N,s.queryForResults,g]);return(0,E.jsxs)(z,{value:h,children:[(0,E.jsx)(ve.$,{children:c.ag.get("search.page-title")}),(0,E.jsx)(qt,{results:o,hasResults:m})]})})),_t=Ot},47917:(e,i,n)=>{n.d(i,{V:()=>R,e:()=>A});var a=n(67294),t=n(86706),s=n(69518),l=n.n(s),r=n(33702),d=n(84629),o=n(43914),c=n(25988),m=n(91753),u=n(88435),k=n(63567),p=n(56294),v=n(57784),N=n(26492),S=n(38894),g=n(80219),h=n(18261),y=n(87257),f=n(57978),x=n(42922),F=n(18864),b=n(52759),j=n(15852),C=n(7073),I=n(84788),T=n(87093),D=n(85893);function A(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const E=e=>`activation-trigger-mme-${e}`,R=a.memo((function({index:e=-1,showMetadata:i,episode:n,usePlayContextItem:s,status:R,variant:w}){const V=(0,T.E)(),P=n.playedState.playPositionMilliseconds,U=n.uri,q=(0,a.useRef)(null),[O,_]=(0,a.useState)(n.playedState.state===C.sY.Completed),L=(0,v.O1)(),H=(0,S.g)(),M=(0,F.jh)(),B=(0,N.o)(),W=(0,t.I0)(),{UBIFragment:G,spec:K,logger:Z}=(0,j.fU)(r.createDesktopEpisodeBlockEventFactory,{data:{uri:U,reason:n.requestId||"",position:e}}),$=(0,j.Wi)(K),{isActive:z,isPlaying:X,togglePlay:Q}=s({uri:U}),[Y]=(0,b.z)(1e4,(e=>e?.item?.uri===U));(0,a.useEffect)((()=>{X&&(q.current=Y)}),[X,Y]),(0,a.useEffect)((()=>{!X&&q.current&&n.duration.milliseconds<=q.current&&_(!0)}),[X,n.duration.milliseconds]);const J=(0,a.useCallback)((e=>{e||(q.current=0),_(e)}),[]),ee=A(i),ie=(0,g.s)({...n,coverArt:{sources:n.coverArt}},ee),ne=(0,a.useCallback)((()=>{if(n.episodeType===C.Wf.Episode&&V)k.y.set((()=>({triggerId:E(n.uri),triggerAction:null})));else if(H)ie();else{let e;e=X?K.playButtonFactory().hitPause({itemToBePaused:U}):z?K.playButtonFactory().hitResume({itemToBeResumed:U}):K.playButtonFactory().hitPlay({itemToBePlayed:U});const i=Z.logInteraction(e);B({targetUri:U,intent:X?"pause":"play",type:"click"}),Q({loggingParams:i})}}),[z,ie,B,Q,U,X,H,n,V,Z,K]),ae=(0,a.useCallback)((()=>{Z.logInteraction(K.hitUiNavigate({destination:U})),B({type:"click",targetUri:U,intent:"navigate"})}),[U,B,Z,K]),te=n.podcastSubscription?.isPaywalled??!1,se=n.podcastSubscription?.isUserSubscribed??!1,le=te&&!se,re=te&&H,{badges:de}=(0,I.r)({contentRating:n.contentRating?.label,isPaywalled:te}),oe=(0,a.useCallback)((()=>W((0,d.RM)(i.uri))),[i.uri,W]),ce=(0,a.useCallback)((e=>{let a=e;return(le||re)&&(a=(0,D.jsx)(u.l,{enabled:!0,showUri:i.uri,children:a})),!n.playability.playable&&de.nineteen&&(a=(0,D.jsx)("div",{onClick:e=>{e.stopPropagation(),oe()},children:e})),a=(0,D.jsx)(o.D,{id:E(U),targetURI:l().from(U),children:a}),a}),[U,le,re,i.uri,de.nineteen,n.playability.playable,oe]);return(0,D.jsx)(G,{spec:K,children:(0,D.jsx)(x.ZP,{value:"row",index:e,children:(0,D.jsx)(h._,{onShow:()=>{Z.logInteraction(K.secondaryHitUiReveal())},menu:(0,D.jsx)(c.k,{uri:U,showUri:i.uri,sharingInfo:n.sharingInfo,isPlayed:O,onMarkAsPlayed:J}),children:(0,D.jsx)(m.X,{ref:$,requestId:n.requestId,index:e,uri:U,size:M,images:n.coverArt||[],name:n.name,showName:i.name,description:n.description,isPlayable:n.playability.playable||le,fullyPlayed:O,durationMs:n.duration.milliseconds,releaseDate:n.releaseDate?.isoString||"",resumePositionMs:q.current??P,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const a=`${n.name} • ${i.name}`;L(e,[U],a,i.uri)},handlePlaybackClick:ne,handleClick:ae,isCurrentlyPlaying:z,isPaywalled:te,isUserSubscribed:se,isPlaying:X,position:X?Y:void 0,episodeSharingInfo:n.sharingInfo,onMarkAsPlayed:J,contentInformation:n.contentInformation,badges:(0,D.jsxs)(D.Fragment,{children:[de.explicit&&(0,D.jsx)(y.N,{}),de.paid&&(0,D.jsx)(p.g,{}),de.nineteen&&(0,D.jsx)(f.X,{size:16})]}),playButtonWrapper:ce,onMoreButtonClick:()=>{Z.logInteraction(K.moreButtonFactory().hitUiReveal())},status:R,variant:w})})})})}))},80219:(e,i,n)=>{n.d(i,{s:()=>u});var a=n(67294),t=n(26492);const s=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function l(e,i){return e.filter((e=>e.label?e.label===i:e.width?s(e.width)===i:!!e.height&&s(e.height)===i))[0]}var r=n(67789);function d(e){const i=l(e,"standard"),n=l(e,"large"),a=l(e,"small"),t=l(e,"xlarge");return{image_url:i?.url,image_height:i?.height?.toString(),image_width:i?.width?.toString(),image_url_large:n?.url,image_height_large:n?.height?.toString(),image_width_large:n?.width?.toString(),image_url_small:a?.url,image_height_small:a?.height?.toString(),image_width_small:a?.width?.toString(),image_url_xlarge:t?.url,image_height_xlarge:t?.height?.toString(),image_width_xlarge:t?.width?.toString()}}var o=n(23716),c=n(69691),m=n(42781);function u(e,i){const n=(0,t.o)(),s=(0,o.g)(),{isPlaying:l,isActive:u}=(0,c.$o)(e?.uri||""),{isActive:k}=(0,c.cR)(i?.uri||"");return(0,a.useCallback)((a=>{if(!i||!e)return;const t=function(e,i){const n=(e.coverArt?.sources||[]).sort(((e,i)=>(i.width||0)-(e.width||0))),a=(0,r.Xb)(e,i),t=(0,r.Ie)(i)||a;return{uri:e.uri,title:e.name,subtitle:i.name,type:"episode",album_uri:i.uri,album_title:i.name,artist_uri:i.uri,artist_name:i.name,...d(n),media_type:"audio",externalResolvedUrl:e.audio?.items?.find((e=>e.externallyHosted))?.url,isTrailer:a,anonymousPlaybackAllowed:t}}(e,i);k&&!l&&u&&!a?s.resume():k&&l&&!a?(n({type:"click",intent:"pause",targetUri:e.uri}),s.pause()):(n({type:"click",intent:"play",targetUri:e.uri}),s.play({uri:i.uri,pages:[{items:[{type:m.p.EPISODE,uri:e.uri,uid:null,metadata:t,provider:null}]}]},{referrerIdentifier:s.getReferrer(),featureIdentifier:"episode"},a))}),[u,l,k,s,n,i,e])}},47991:(e,i,n)=>{n.d(i,{$:()=>a});const a=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-search.js.map